\documentclass{article}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage[none]{hyphenat}
\usepackage{mathrsfs}
\usepackage{physics}
\parindent=0pt

\def\upint{\mathchoice%
    {\mkern13mu\overline{\vphantom{\intop}\mkern7mu}\mkern-20mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
  \int}
\def\lowint{\mkern3mu\underline{\vphantom{\intop}\mkern7mu}\mkern-10mu\int}

\begin{document}



\textbf{\Large Chapter 4: Limits and Continuity} \\\\



\emph{Author: Meng-Gen Tsai} \\
\emph{Email: plover@gmail.com} \\\\



\textbf{\large Continuity of real-valued functions} \\\\



\textbf{Exercise 4.19.}
\emph{Let $f$ be continuous on $[a,b]$ and define $g$ as follows:
$g(a) = f(a)$ and, for $a < x \leq b$,
let $g(x)$ be the maximum value of $f$ in the subinterval $[a,x]$.
Show that $g$ is continuous on $[a,b]$.} \\

Indeed, $g(x) = \max_{a \leq t \leq x} f(t)$ for $x \in [a,b]$. \\

\emph{Proof.}
\begin{enumerate}
\item[(1)]
$f$ is continuous on $[a,b]$ at a point $p$ $\Longleftrightarrow$
Given any $\epsilon' > 0$, there exists $\delta' > 0$ such that
$|f(x) - f(p)| < \epsilon'$ whenever $|x-p| < \delta'$ (and $x \in [a,b]$).
We left $\epsilon'$ and $\delta'$ undecided temporarily.
\item[(2)]
To estimate $g$ on
$$[p-\delta', p+\delta'] \cap [a,b],$$
we need to study the behavior of $f$ on $[a,p+\delta'] \cap [a,b]$
(by the definition of $g(x)$),
and then use the continuity of $f$ to establish the desired result.
\item[(3)]
Look at where $f$ takes the maximum value over on $[a,p+\delta'] \cap [a,b]$ at.
There are two possible cases (might overlapped):
  \begin{enumerate}
  \item[(a)]
  \emph{At a point in $[a,p-\delta'] \cap [a,b]$.}
  In this case $g$ is constant on $[p-\delta', p+\delta'] \cap [a,b]$,
  or $|g(x) - g(p)| = 0$.
  \item[(b)]
  \emph{At a point $q \in (p-\delta',p+\delta'] \cap [a,b]$.}
  For any $x \in [p-\delta', p+\delta'] \cap [a,b]$,
    \begin{enumerate}
    \item[(i)]
    $f(p) - \epsilon' < g(x)$ by the maximality of $g$ on $[a,x]$.
    \item[(ii)]
    $g(x) \leq f(q) < f(p) + \epsilon'$
    since $g$ is an increasing function and
    $f$ takes the maximum value over on $[a,p+\delta'] \cap [a,b]$ at
    $q \in (p-\delta',p+\delta'] \cap [a,b]$.
    \end{enumerate}
  By (i)(i),
  $$f(p) - \epsilon' < g(x) < f(p) + \epsilon'$$
  for  any $x \in [p-\delta', p+\delta'] \cap [a,b]$ (especially $x = p$).
  Therefore,
  $$|g(x) - g(p)| < 2 \epsilon'
  \text{ whenever } |x-p| < \delta' (\text{and } x \in [a,b]).$$

  \end{enumerate}
  By (a)(b), we have
  $|g(x) - g(p)| < 2 \epsilon'
  \text{ whenever } |x-p| < \delta' (\text{and } x \in [a,b])$ in any cases.
\item[(4)]
Retake $\epsilon' = \frac{\epsilon}{2} > 0$ and $\delta = \delta' > 0$.
\end{enumerate}
$\Box$ \\\\



\textbf{\large Continuity in metric spaces} \\

In Exercise 4.29 through 4.33, we assume that $f: S \rightarrow T$ is a function
from one metric space $(S, d_S)$ to another $(T, d_T)$. \\\\



\textbf{Exercise 4.29.}
\emph{Prove that $f$ is continuous on $S$ if and only if
$$f^{-1}(B^{\circ}) \subseteq (f^{-1}(B))^{\circ}
\:\:\:\: \text{for every subset $B$ of $T$}.$$}

Denote the interior of any set $S$ by $S^{\circ}$. \\

\emph{Proof (On topological spaces).}
\begin{enumerate}
\item[(1)]
$(\Longrightarrow)$
\begin{align*}
\forall x \in f^{-1}(B^{\circ})
&\Longrightarrow
f(x) \in B^{\circ} \\
&\Longrightarrow
\exists \text{ open neighborhood } V \subseteq B^{\circ} \subseteq B \text{ containing } f(x) \\
&\Longrightarrow
x \in f^{-1}(V) \subseteq f^{-1}(B) \\
&\Longrightarrow
f^{-1}(V) \text{ is open in $S$ since $f$ is continuous} \\
&\Longrightarrow
f^{-1}(V)\text{ is open neighborhood} \subseteq f^{-1}(B) \text{ containing } x \\
&\Longrightarrow
x \in (f^{-1}(B))^{\circ}.
\end{align*}
\item[(2)]
$(\Longleftarrow)$
\emph{Given any open subset $V$ of $T$, need to show
$U = f^{-1}(V)$ is open in $S$.}
\begin{align*}
f^{-1}(V)
&= f^{-1}(V^{\circ})
  &\text{($V$ is open)} \\
&\subseteq (f^{-1}(V))^{\circ}
  &\text{(Assumption)}
\end{align*}
So $U \subseteq U^{\circ}$ or $U = U^{\circ}$ is open.
\end{enumerate}
$\Box$ \\\\



\textbf{Exercise 4.30.}
\emph{Prove that $f$ is continuous on $S$ if and only if
$$f(\overline{A}) \subseteq \overline{f(A)}
\:\:\:\: \text{for every subset $A$ of $S$}.$$}

Denote the closure of any set $S$ by $\overline{S}$. \\

\emph{Proof (On topological spaces).}
\begin{enumerate}
\item[(1)]
$(\Longrightarrow)$
Since $f$ is continuous and $\overline{f(A)}$ is closed,
$f^{-1}(\overline{f(A)})$ is closed.
Hence,
\begin{align*}
f^{-1}(\overline{f(A)})
&\supseteq f^{-1}(f(A))
  & \text{(Monotonicity of $f^{-1}$)} \\
&\supseteq A,
  & \text{(Exercise 2.7(a))} \\
\overline{A}
&\subseteq f^{-1}(\overline{f(A)}),
  & \text{(Monotonicity of closure)} \\
f(\overline{A})
&\subseteq f(f^{-1}(\overline{f(A)}))
  & \text{(Monotonicity of $f$)} \\
&\subseteq \overline{f(A)}.
  & \text{(Exercise 2.7(b))}
\end{align*}
\item[(2)]
$(\Longleftarrow)$
\emph{Given any closed subset $D$ of $T$, need to show
$C = f^{-1}(D)$ is closed in $S$.}
\begin{align*}
f(\overline{C})
&\subseteq \overline{f(C)}
  &\text{(Assumption)} \\
&= \overline{f(f^{-1}(D))}
  &(C = f^{-1}(D))\\
&\subseteq \overline{D}
  &\text{(Exercise 2.7(b))} \\
&= D,
  &\text{($D$ is closed)} \\
f^{-1}(f(\overline{C}))
&\subseteq f^{-1}(D),
  &\text{(Monotonicity of $f^{-1}$)} \\
\overline{C} \subseteq f^{-1}(f(\overline{C}))
&\subseteq f^{-1}(D) = C.
  &\text{(Exercise 2.7(a))}
\end{align*}
So $C \supseteq \overline{C}$ or $C = \overline{C}$ is closed.
\end{enumerate}
$\Box$ \\



\textbf{Supplement (Continuity).}
\emph{Let $f$ be a map from a topological space on $X$
to a topological space on $Y$.
Then, the following statements are equivalent:}
\begin{enumerate}
\item[(1)]
\emph{$f$ is continuous:
For each $x \in X$ and every neighborhood $V$ of $f(x)$,
there is a neighborhood $U$ of $x$ such that $f(U) \subseteq V$.}
\item[(2)]
\emph{For every open set $O$ in $Y$, the inverse image $f^{-1}(O)$
is open in $X$.}
\item[(3)]
\emph{For every closed set $C$ in $Y$, the inverse image $f^{-1}(C)$
is closed in $X$.}
\item[(4)]
\emph{$f(A)^{\circ} \subseteq f(A^{\circ})$ for every subset $A$ of $X$.}
\item[(5)]
\emph{$f^{-1}(B^{\circ}) \subseteq (f^{-1}(B))^{\circ}$ for every subset $B$ of $Y$.}
\item[(6)]
\emph{$f(\overline{A}) \subseteq \overline{f(A)}$ for every subset $A$ of $X$.}
\item[(7)]
\emph{$\overline{f^{-1}(B)} \subseteq f^{-1}(\overline{B})$ for every subset $B$ of $Y$.} \\\\
\end{enumerate}



\textbf{Exercise 4.33.}
\emph{Give an example of a continuous $f$ and a Cauchy sequence $\{x_n\}$
in some metric space $S$ for which $\{f(x_n)\}$ is not a Cauchy sequence in $T$.} \\

Compare with Exercise 4.54 to get some hints. \\

\emph{Proof.}
Let
$$S
= \left\{ 1, \frac{1}{2}, \frac{1}{3}, ... \right\}
= \left\{ \frac{1}{n} : n \in \mathbb{Z}^+ \right\}.$$
Define $f: S \rightarrow \mathbb{R}$ by $f\left(\frac{1}{n}\right) = (-1)^n$.
Then $f$ is continuous (but not uniformly continuous).
The sequence $\{x_n\} = \left\{ \frac{1}{n} \right\}$ in $S$ is a Cauchy sequence,
but the sequence $\{f(x_n)\} = \{(-1)^n\}$ is not a Cauchy sequence in $\mathbb{R}$.
$\Box$ \\\\



\textbf{\large Uniform continuity} \\\\



\textbf{Exercise 4.50.}
\emph{Prove that a function which is uniformly continuous on $S$
is also continuous on $S$.} \\

\emph{Proof.}
The proof is straightforward.
\begin{enumerate}
\item[(1)]
Suppose $f: S \rightarrow T$ is uniformly continuous on $S$.
Given any $\epsilon > 0$, there is $\delta > 0$ such that
$d_T(f(x), f(y)) < \epsilon$ whenever $d_S(x, y) < \delta$.
\item[(2)]
\emph{Show that $f$ is continuous at any point $p$ in $S$.}
Set $y = p$ in (1).
\end{enumerate}
$\Box$ \\\\



\textbf{Exercise 4.51.}
\emph{If $f(x) = x^2$ for $x \in \mathbb{R}$,
prove that $f$ is not uniformly continuous on $\mathbb{R}$}. \\

\emph{Proof.}
Prove by contradiction.
\begin{enumerate}
\item[(1)]
If $f$ were uniformly continuous on $\mathbb{R}$,
then for any $\epsilon > 0$, there is $\delta > 0$ such that
$|f(x) - f(y)| < \epsilon$ whenever $|x - y| < \delta$.
Here we pick $\epsilon = 1 > 0$.
\item[(2)]
So
$$|f(x) - f(y)| = |x^2 - y^2| = |x+y||x-y| < 1$$
for any $|x-y| < \delta$.
In particular, we pick $x = \frac{1}{\delta}$
and $y = \frac{1}{\delta} + \frac{\delta}{2}$.
Now $|x-y| = \frac{\delta}{2} < \delta$, and thus $|f(x) - f(y)| = |x+y||x-y| < 1$
would be true.
However,
$$|f(x) - f(y)| = |x+y||x-y|
= \left(\frac{2}{\delta}+ \frac{\delta}{2}\right)
\left(\frac{\delta}{2}\right)
> \frac{2}{\delta} \cdot \frac{\delta}{2} = 1,$$
contrary to $|f(x) - f(y)| = |x+y||x-y| < 1$.
\end{enumerate}
$\Box$ \\\\



\textbf{Exercise 4.52.}
\emph{Assume that $f$ is uniformly continuous on a bounded set $S$ in $\mathbb{R}^n$.
Prove that $f$ must be bounded on $S$.} \\

The conclusion is false if boundedness of $S$ is omitted from the hypothesis.
For example, $f(x) = x$ on $\mathbb{R}$ is uniformly continuous on $\mathbb{R}$
but $f(\mathbb{R}) = \mathbb{R}$ is unbounded. \\

\emph{Proof (Brute-force).}
\begin{enumerate}
\item[(1)]
Since $f: S \rightarrow T$ is uniformly continuous,
given any $\epsilon > 0$, there is $\delta > 0$ such that
$d_T(f(x), f(y)) < \epsilon$ whenever $d_S(x, y) < \delta$.
In particular, pick $\epsilon = 1$.
\item[(2)]
By the boundedness of $S$, there is $M > 0$ such that $\norm{x} < M$ for all $x \in S$.
In particular, each coordinate of $x \in \mathbb{R}^n$ is less than $M$.
\item[(3)]
For such $\delta > 0$, we construct a covering of $S \subseteq \mathbb{R}^n$.
Construct a special collection $\mathscr{C}$ of $n$-cells
$$I_{\mathbf{a}} =
  \left[ \frac{\delta}{2\sqrt{n}}a_1, \frac{\delta}{2\sqrt{n}}(a_1+1) \right]
  \times
  \cdots
  \times
  \left[ \frac{\delta}{2\sqrt{n}}a_n, \frac{\delta}{2\sqrt{n}}(a_n+1) \right]
$$
where $\mathbf{a} = (a_1, ..., a_n) \in \mathbb{Z}^n$ satisfying
$$\abs{a_i} < \frac{2\sqrt{n}M}{\delta} + 1 \:\: (1 \leq i \leq n).$$
By construction, $\mathscr{C}$ is a finite covering of $S$.
\item[(4)]
For every $n$-cell $I_{\mathbf{a}}$ of the collection $\mathscr{C}$,
pick a point $x_{\mathbf{a}} \in S \bigcap I_{\mathbf{a}}$ if possible.
This process will terminate eventually since $\mathscr{C}$ is a finite.
Collect these representative points as $\mathscr{D} = \{ x_{\mathbf{a}} \}$.
Notice that $\mathscr{D}$ is finite again.
\item[(5)]
Now for any point $x \in S$, $x$ lies in some $I_{\mathbf{a}}$
containing $x_\mathbf{a}$.
Both $x$ and $x_\mathbf{a}$ are in the same cell and their distance satisfies
$$\norm{x - x_\mathbf{a}}
\leq \sqrt{
\left(\frac{\delta}{2\sqrt{n}}\right)^2 +
\cdots +
\left(\frac{\delta}{2\sqrt{n}}\right)^2}
= \frac{\delta}{2}
< \delta$$
and thus by (1)
$$\norm{f(x) - f(x_\mathbf{a})} < 1,
\text{ or }
\norm{f(x)} <  1 + \norm{f(x_\mathbf{a})}.$$
\item[(6)]
Let
$$M = 1 + \max_{x_\mathbf{a} \in \mathscr{D}} \norm{f(x_\mathbf{a})}.$$
So given any $x \in S$, $\norm{f(x)} < M$.
\end{enumerate}
$\Box$ \\

\emph{Proof (Heine-Borel Theorem).}
Heine-Borel theorem provides the finiteness property to construct
the boundedness property of $f$.
\begin{enumerate}
\item[(1)]
\emph{Let $S$ be a bounded subset of a metric space $X$.
Show that the closure of $S$ in $X$ is also bounded in $X$.}
$S$ is bounded if $S \subseteq B_X(a;r)$ for some $r > 0$ and some $a \in X$.
(The ball $B_X(a;r)$ is defined to the set of all $x \in X$ such that
$d_X(x, a) < r$.)
Take the closure on the both sides,
$$\overline{S}
\subseteq \overline{B_X(a;r)}
= \{ x \in X : d_X(x, a) \leq r \}
\subseteq B_X(a;2r),$$
or $\overline{S}$ is bounded.
\item[(2)]
Since $f: S \rightarrow T$ is uniformly continuous,
given any $\epsilon > 0$, there is $\delta > 0$ such that
$d_T(f(x), f(y)) < \epsilon$ whenever $d_S(x, y) < \delta$.
In particular, pick $\epsilon = 1$.
\item[(3)]
For such $\delta > 0$, we construct an open covering of $\overline{S} \subseteq \mathbb{R}^n$.
Pick a collection $\mathscr{C}$ of open balls
$B(a;\delta) \subseteq \mathbb{R}^n$
where $a$ runs over all elements of $S$.
$\mathscr{C}$ covers $\overline{S}$ (by the definition of accumulation points).
Since $\overline{S} $ is closed and bounded (by applying (1) on the boundedness of $S$),
$\overline{S}$ is compact
(Heine-Borel theorem on $\mathbb{R}^n$).
That is, there is a finite subcollection $\mathscr{C}'$ of $\mathscr{C}$
also covers $\overline{S}$, say
$$\mathscr{C}'
= \left\{B(a_1;\delta)), B(a_2;\delta), ..., B(a_m;\delta) \right\}.$$
\item[(4)]
Given any $x \in S \subseteq \overline{S}$,
there is some $a_i \in S$ $(1 \leq i \leq m)$ such that $x \in B(a_i;\delta)$.
In such ball, $d_S(x, a_i) < \delta$.
By (2), $\norm{f(x) - f(a_i)} < 1$,
or $\norm{f(x)} < 1 + \norm{f(a_i)}$.
Almost done.
Notice that $a_i$ depends on $x$,
and thus we might use finiteness of $\{ a_1, a_2, ..., a_m \}$
to remove dependence of $a_i$.
\item[(5)]
Let
$$M = 1 + \max_{1 \leq i \leq m}{\norm{f(a_i)}}.$$
So given any $x \in S$, $\norm{f(x)} < M$.
\end{enumerate}
$\Box$ \\

\textbf{Supplement.}
Exercise about considering the closure.
(Problem 3.5 in H. L. Royden, Real Analysis, 3rd Edition.)
\emph{Let $A = \mathbb{Q} \cap [0,1]$,
and let $\{ I_n\}$ be a finite collection of open intervals covering $A$.
Then $\sum l(I_n) \geq 1$.} \\

\emph{Proof.}
\begin{align*}
1
= m^{*}[0, 1]
= m^{*}\overline{A}
&\leq m^{*}\left( \overline{\bigcup I_n} \right)
= m^{*}\left( \bigcup \overline{I_n} \right) \\
&\leq \sum m^{*}(\overline{I_n})
= \sum l(\overline{I_n})
= \sum l(I_n).
\end{align*}
$\Box$ \\\\



\textbf{Exercise 4.54.}
\emph{Assume $f: S \rightarrow T$ is uniformly continuous on $S$,
where $S$ and $T$ are metric spaces.
If $\{x_n\}$ is any Cauchy sequence in $S$,
prove that $\{f(x_n)\}$ is a Cauchy sequence in $T$.
(Compare with Exercise 4.33.)} \\

Therefore, we need to find a continuous but not uniformly continuous function
to solve Exercise 4.33:
\emph{Give an example of a continuous $f$ and a Cauchy sequence $\{x_n\}$
in some metric space $S$ for which $\{f(x_n)\}$ is not a Cauchy sequence in $T$.} \\

\emph{Proof.}
The proof is straightforward.
\begin{enumerate}
\item[(1)]
Since $f: S \rightarrow T$ is uniformly continuous on $S$,
given any $\epsilon > 0$, there is $\delta > 0$ such that
$d_T(f(x), f(y)) < \epsilon$ whenever $d_S(x, y) < \delta$.
\item[(2)]
Since $\{x_n\}$ is any Cauchy sequence in $S$,
especially for such $\delta > 0$ in (1), there is an integer $N$ such that
$d_S(x_m, x_n) < \delta$ whenever $m \geq N$ and $n \geq N$.
So as $m \geq N$ and $n \geq N$, we have
$d_T(f(x_m), f(x_n)) < \epsilon$ by (1),
or $\{f(x_n)\}$ itself is a Cauchy sequence in $T$.
\end{enumerate}
$\Box$ \\\\



\end{document}