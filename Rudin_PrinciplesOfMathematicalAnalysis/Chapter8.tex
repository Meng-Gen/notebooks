\documentclass{article}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{hyperref}
\parindent=0pt

\begin{document}

\textbf{\Large Chapter 8: Some Special Functions} \\\\



% http://math.ucsd.edu/~lni/math140/HW140B_7_solutions.pdf



\textbf{Exercise 8.1.}
\emph{Define
\begin{equation*}
  f(x) =
    \begin{cases}
      e^{-\frac{1}{x^2}} & (x \neq 0), \\
      0                  & (x = 0).
    \end{cases}
\end{equation*}
Prove that $f$ has derivatives of all orders at $x = 0$,
and that $f^{(n)}(0) = 0$ for $n = 1, 2, 3, ...$} \\

\textbf{Claim 1.}
\emph{$$\lim_{x \rightarrow 0} g(x) e^{-\frac{1}{x^2}} = 0$$
for any rational function $g(x) \in \mathbb{R}(x)$.} \\

\emph{Proof.}
Write $g(x) = \frac{p(x)}{q(x)}$ for some $p(x), q(x) \in \mathbb{R}[x].$
Write $q(x) = b_m x^m + b_{m - 1} x^{m - 1} + \cdots + b_0$.
$q(x)$ is not identically zero, that is, there exists the unique coefficient
of the least power of $x$ in $q(x)$ which is non-zero, say $b_M \neq 0$.
Now write $g(x)$ as $g(x) = \frac{p(x)/x^M}{q(x)/x^M}$.
The denominator of $g(x)$ tends to $b_M \neq 0$ as $x \rightarrow 0$.
By the similar argument of Theorem 8.6(f)
($\lim_{x \rightarrow \infty} x^n e^{-x} = 0$ for any $n \in \mathbb{Z}$),
$$\frac{p(x)}{x^M} e^{-\frac{1}{x^2}} \rightarrow 0 \text{ as } x \rightarrow 0.$$
Hence, $\lim_{x \rightarrow 0} g(x) e^{-\frac{1}{x^2}} = 0$
for any $g(x) \in \mathbb{R}(x)$.
$\Box$ \\

\textbf{Claim 2.}
\emph{Given any real $x \neq 0$
$$f^{(n)}(x) = g_n(x) e^{-\frac{1}{x^2}}$$
for some rational function $g(x) \in \mathbb{R}(x)$.} \\

\emph{Proof.}
Say $g_0(x) = 1 \in \mathbb{R}(x)$.
Notice that $\mathbb{R}(x)$ is a field and
$g'(x) \in \mathbb{R}(x)$ for any $g(x) \in \mathbb{R}(x)$.
(Write $g(x) = \frac{p(x)}{q(x)}$ for some $p(x), q(x) \in \mathbb{R}[x]$.
Notice that $p'(x) \in \mathbb{R}[x]$ for any $p(x) \in \mathbb{R}[x]$.)
Now we prove by mathematical induction.
For $n = 1$, we have
\begin{align*}
f'(x)
&= g_0'(x) e^{-\frac{1}{x^2}}
+ g_0(x) \cdot \left( -\frac{1}{x^2} \right)' e^{-\frac{1}{x^2}} \\
&= \left( g_0'(x) + g_0(x) \cdot \left( -\frac{1}{x^2} \right)' \right) e^{-\frac{1}{x^2}} \\
&= g_1(x) e^{-\frac{1}{x^2}}
\end{align*}
where $g_1(x) = g_0'(x) + g_0(x) \cdot (-\frac{1}{x^2})' \in \mathbb{R}(x)$.
Now assume $n = k$ holds.
For $n = k + 1$, similar to $n = 1$,
$f^{(k + 1)}(x) = g_{k + 1}(x) e^{-\frac{1}{x^2}}$
where $g_{k + 1}(x) = g_k'(x) + g_k(x) \cdot (-\frac{1}{x^2})' \in \mathbb{R}(x)$.
$\Box$ \\

\emph{Proof of Exercise 8.1.}
Prove by mathematical induction.
For $n = 1$,
$$f'(0) = \lim_{t \rightarrow 0} \frac{e^{- \frac{1}{t^2}} - 0}{t} = 0.$$
(Use Claim 1.)
Now assume $n = k$ holds.
For $n = k + 1$,
$$f^{(k + 1)}(0)
= \lim_{t \rightarrow 0} \frac{f^{(k)}(t) - f^{(k)}(0)}{t}
= \lim_{t \rightarrow 0} \frac{g_k(t) e^{- \frac{1}{t^2}} - 0}{t} = 0.$$
(Use Claim 1 and 2.)
Thus, $f^{(n)}(0) = 0$ for $n \in \mathbb{Z}^+$.
$\Box$ \\



\textbf{Exercise 8.6.}
\emph{Suppose $f(x)f(y) = f(x + y)$ for all real $x$ and $y$. \\
(a) Assuming that $f$ is differentiable and not zero, prove that
$$f(x) = e^{cx}$$
where $c$ is a constant. \\
(b) Prove the same thing, assuming only that $f$ is continuous.} \\

(b) implies (a). We prove (b) directly. \\

\emph{Proof of (b).}
Since $f(x)$ is not zero, there exists $x_0 \in \mathbb{R}$ such that $f(x_0) \neq 0$.
So $f(0)f(x_0) = f(x_0)$, or $f(0) = 1$ by cancelling $f(x_0) \neq 0$. \\

Next, $f(\frac{n}{m}) = f(\frac{1}{m})^n$ for $m \in \mathbb{Z}$, $n \in \mathbb{Z}^{+}$.
Since $f$ is continuous at $x = 0$, $f$ is positive in the neighborhood of $x = 0$.
That is, there exists $N \in \mathbb{Z}^{+}$ such that $f(\frac{1}{m}) > 0$
whenever $|m| \geq N$.
So, $f(\frac{n}{m}) = f(\frac{1}{m})^n > 0$.
(Since $f(\frac{n}{m}) = f(\frac{kn}{km})$ for any $k \in \mathbb{Z}^{+}$,
we can rescale $m$ to $km$ such that $|km| \geq N$.)
That is, $f$ is positive on $\mathbb{Q}$.
Since $\mathbb{Q}$ is dense in $\mathbb{R}$ and $f$ is continuous on $\mathbb{R}$,
$f$ is positive on $\mathbb{R}$. \\

Now let $c = \log f(1)$ (which is well-defined since $f > 0$).
We write $f(1)$ in the two ways.
Firstly, $f(1) = f(\frac{n}{n}) = f(\frac{1}{n})^n$ where $n \in \mathbb{Z}^{+}$.
Secondly, $f(1) = e^c = (e^{\frac{c}{n}})^n$.
Since the positive $n$-th root is unique (Theorem 1.21),
$f(\frac{1}{n}) = e^{\frac{c}{n}}$ for $n \in \mathbb{Z}^{+}$.
By $f(x)f(-x) = f(0) = 1$ or $f(-x) = \frac{1}{f(x)}$,
$f(-\frac{1}{n}) = \frac{1}{e^{\frac{c}{n}}} = e^{-\frac{c}{n}}$ for $n \in \mathbb{Z}^{+}$.
Therefore,
$$f\left( \frac{1}{m} \right) = e^{\frac{c}{m}} \text{ where } m \in \mathbb{Z}.$$

By using
$f(\frac{n}{m}) = f(\frac{1}{m})^n$ for $m \in \mathbb{Z}$, $n \in \mathbb{Z}^{+}$ again,
$f(\frac{n}{m}) = e^{c \frac{n}{m}}$ where $m \in \mathbb{Z}, n \in \mathbb{Z}^{+}$, or
$$f(x) = e^{cx} \text{ where } x \in \mathbb{Q}.$$
Since $g(x) = f(x) - e^{cx}$ vanishes on a dense set of $\mathbb{Q}$
and $g$ is continuous on $\mathbb{R}$, $g$ vanishes on $\mathbb{R}$.
Therefore, $f(x) = e^{cx}$ for $x \in \mathbb{R}$.
$\Box$ \\



\textbf{Supplement.} Proof of (a).

\emph{Proof of (a).}
Since $f(x)$ is not zero, there exists $x_0 \in \mathbb{R}$ such that $f(x_0) \neq 0$.
So $f(0)f(x_0) = f(x_0)$, or $f(0) = 1$ by cancelling $f(x_0) \neq 0$. \\

Since $f$ is differentiable, for any $x \in \mathbb{R}$,
\begin{align*}
f'(x)
=& \lim_{h \rightarrow 0} \frac{f(x + h) - f(x)}{h} \\
=& \lim_{h \rightarrow 0} \frac{f(x)f(h) - f(x)}{h} \\
=& f(x) \lim_{h \rightarrow 0} \frac{f(h) - 1}{h} \\
=& f(x) \lim_{h \rightarrow 0} \frac{f(h) - f(0)}{h} \\
=& f(x) f'(0).
\end{align*}
Let $c = f'(0)$ be a constant. Then $f'(x) = c f(x)$. So $f(x) = e^{cx}$ for $x \in \mathbb{R}$.
(To see this, let $g(x) = \frac{f(x)}{e^{cx}}$ be well-defined on $\mathbb{R}$. $g(0) = 1$.
$g'(x) = 0$ since $f'(x) = c f(x)$. So $g(x)$ is a constant, or $g(x) = 1$ since $g(0) = 1$.
Therefore, $f(x) = e^{cx}$ on $\mathbb{R}$.)
$\Box$ \\



\textbf{Supplement.} Cauchy's functional equation.
\begin{enumerate}
\item[(1)]
\emph{(Cauchy's functional equation.) Suppose $f(x) + f(y) = f(x + y)$ for all real $x$ and $y$.
Assuming that $f$ is continuous, prove that $f(x) = cx$ where $c$ is a constant}. \\

Notice that we cannot let $g(x) = \log f(x)$
and apply Cauchy's functional equation on $g(x)$
to prove Exercise 8.6 since $f(x)$ is not necessary positive and thus
$g(x) = \log f(x)$ might be meaningless.
However, this wrong approach gives you some useful ideas such as
you need to prove that $f(x)$ is positive first,
and $f(x)$ should be equal to $e^{cx}$ where $c = g(1) = \log f(1)$.

\item[(2)]
\emph{Suppose $f(xy) = f(x) + f(y)$ for all positive real $x$ and $y$.
Assuming that $f$ is continuous, prove that $f(x) = c \log x$ where $c$ is a constant}.

\item[(3)]
\emph{Suppose $f(xy) = f(x)f(y)$ for all positive real $x$ and $y$.
Assuming that $f$ is continuous and positive,
prove that $f(x) = x^c$ where $c$ is a constant}.

\item[(4)]
\emph{Suppose $f(x + y) = f(x) + f(y) + xy$ for all real $x$ and $y$.
Assuming that $f$ is continuous,
prove that $f(x) = \frac{1}{2}x^2 + cx$ where $c$ is a constant}.

\item[(5)]
\emph{(USA 2002.) Suppose $f(x^2 - y^2) = x f(x) - y f(y)$ for all real $x$ and $y$.
Assuming that $f$ is continuous,
prove that $f(x) = cx$ where $c$ is a constant}.
\end{enumerate}



\end{document}