\documentclass{article}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage[none]{hyphenat}
\usepackage{mathrsfs}
\usepackage{physics}
\parindent=0pt

\def\upint{\mathchoice%
    {\mkern13mu\overline{\vphantom{\intop}\mkern7mu}\mkern-20mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}%
  \int}
\def\lowint{\mkern3mu\underline{\vphantom{\intop}\mkern7mu}\mkern-10mu\int}

\begin{document}



\textbf{\Large Chapter 6: The Riemann-Stieltjes Integral} \\\\



\emph{Author: Meng-Gen Tsai} \\
\emph{Email: plover@gmail.com} \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Supplement.} Another definition of Riemann-Stieltjes integral.
\emph{(Exercise 7.3, 7.4 of the book
T. M. Apostol, Mathematical Analysis, Second Edition.)
Let $P$ be a partition of $[a, b]$.
The norm of a partition $P$ is the length of the largest subinterval $[x_{i-1}, x_i]$
of $P$ and is denoted by $\Vert P \Vert$.} \\

\emph{We say $f \in \mathscr{R}(\alpha)$
if there exists $A \in \mathbb{R}$ having the property that
for any $\varepsilon > 0$, there exists $\delta > 0$ such that
for any partition $P$ of $[a, b]$ with norm $\Vert P \Vert < \delta$
and for any choice of $t_i \in [x_{i-1}, x_i]$,
we have $|\sum_{i = 1}^{n} f(t_i) \Delta \alpha_i - A| < \varepsilon$.} \\\\

\textbf{Claim.}
\emph{$f \in \mathscr{R}$ in the sense of Definition 6.2
implies that
$f \in \mathscr{R}$ in the sense of this another definition.} \\

\emph{Proof of Claim.}
Let $A = \int f dx$, $M > 0$ be one upper bound of $|f|$ on $[a, b]$.
Given $\varepsilon > 0$, there exists a partition
$P_0 = \{a = x_0, x_1, \ldots, x_{N-1}, x_N = b \}$
such that
$U(P_0, f) \leq A + \frac{\varepsilon}{2}$.
Let $\delta = \frac{\varepsilon}{2MN} > 0$.
Then for any partition $P$ with norm $\Vert P \Vert < \delta$, write
$$U(P, f) = \sum_{i = 1}^{n} M_i \Delta x_i = S_1 + S_2,$$
where
$S_1$ is the sum of terms arising from those subintervals of $P$ containing no point of $P_0$,
$S_2$ is the sum of the remaining terms.
Then
\begin{align*}
S_1 &\leq U(P_0, f) < A + \frac{\varepsilon}{2}, \\
S_2 &\leq NM \Vert P \Vert < NM \delta < \frac{\varepsilon}{2}.
\end{align*}
Therefore, $U(P, f) < A + \varepsilon$.
Similarly, $L(P, f) > A - \varepsilon$ whenever $\Vert P \Vert < \delta'$.
Hence, $|\sum_{i = 1}^{n} f(t_i) \Delta x_i - A| < \varepsilon$
whenever $\Vert P \Vert < \min\{\delta, \delta'\}$.
(Copy Apostol's hint and ensure $M > 0$. $M$ in Apostol's hint might be zero if $f = 0$.)
$\Box$ \\



This supplement will be used in computing
$\int_0^{\infty} (\frac{\sin x}{x})^2 dx = \frac{\pi}{2}$ in Exercise 8.12. \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.1.}
\emph{Suppose $\alpha$ increases on $[a, b]$, $a \leq â‰¤ x_0 \leq b$,
$\alpha$ is continuous at $x_0$, $f(x_0) = 1$, and $f(x) = 0$ if $x \neq x_0$.
Prove that $f \in \mathscr{R}(\alpha)$ and that $\int f d \alpha = 0$.} \\

Given any partition $P = \{a = p_0, p_1, \ldots, p_{n-1}, p_n = b \}$,
where $a = p_0 \leq p_1 \leq \cdots \leq p_{n-1} \leq p_n = b$.
We might compute $L(P, f, \alpha)$ and $U(P, f, \alpha)$ by using $\varepsilon$-$\delta$ argument
since we are hinted by the condition that $\alpha$ is continuous.
A function which is continuous at $x_0$ has a nice property near $x_0$
and this property would help us estimate $U(P, f, \alpha)$ near $x_0$.
On the contrary, if both $f$ and $\alpha$ are discontinuous at $x_0$,
it might be $f \not\in \mathscr{R}(\alpha)$.
Besides, if $f$ has too many points of discontinuity
($f(x) = 0$ if $x \in \mathbb{Q}$ and $f(x) = 1$ otherwise, for example),
then $f$ might not be Riemann-integrable on $[0, 1]$. \\\\



\textbf{Claim 1.}
\emph{$L(P, f, \alpha) = 0$.} \\

\emph{Proof of Claim 1.}
$m_i = 0$ since $\inf f(x) = 0$ on any subinterval of $[a, b]$.
So $L(P, f, \alpha) = \sum m_i \Delta \alpha_i = 0$.
Here we don't need the condition that $\alpha$ is continuous at $x_0$.
$\Box$ \\\\



\textbf{Claim 2.}
\emph{For any $\varepsilon > 0$,
there exists a partition $P$ such that $U(P, f, \alpha) < \varepsilon$.} \\

\emph{Proof of Claim 2.}
Say $x_0 \in [p_{i_0 - 1}, p_{i_0}]$ for some $i_0$.
Then
\begin{equation*}
  M_i = \sup_{p_{i - 1} \leq x \leq p_i} f(x) =
    \begin{cases}
      0 & \text{ if $i \neq i_0$}, \\
      1 & \text{ if $i = i_0$}.
    \end{cases}
\end{equation*}
So
$$U(P, f, \alpha) = \sum M_i \Delta \alpha_i = \Delta \alpha_{i_0}.$$
It is not true for any arbitrary $\alpha$. (For example, $\alpha$ has a jump on $x = x_0$.)
In fact, Exercise 6.3 shows this.
Luckily, $\alpha$ is continuous at $x_0$. So for $\varepsilon > 0$,
there exists $\delta > 0$ such that $|\alpha(x) - \alpha(x_0)| < \frac{\varepsilon}{2}$
whenever $|x - x_0| < \delta$ (and $x \in [a, b]$).
Now we pick a nice partition
$$P = \{ a, x_0 - \delta_1, x_0 + \delta_2, b \},$$
where $\delta_1 = \min\{\delta, x_0 - a\} \geq 0$
and $\delta_2 = \min\{\delta, b - x_0\} \geq 0$.
(It is a trick about resizing ``$\delta$''
to avoid considering the edge cases $x_0 = a$ or $x_0 = b$ or $a = b$.)
Then $x_0 \in [x_0 - \delta_1, x_0 + \delta_2]$
and $\Delta \alpha$ on $[x_0 - \delta_1, x_0 + \delta_2]$ is
\begin{align*}
\alpha(x_0 + \delta_2) - \alpha(x_0 - \delta_1)
&= (\alpha(x_0 + \delta_2) - \alpha(x_0)) + (\alpha(x_0) - \alpha(x_0 - \delta_1)) \\
&< \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon.
\end{align*}
Therefore, $U(P, f, \alpha) < \varepsilon$.
$\Box$ \\\\



\emph{Proof (Definition 6.2).}
By Claim 1 and 2 and notice that $U(P, f, \alpha) \geq 0$ for any partition $P$,
\begin{align*}
\upint_a^b f d\alpha &= \inf U(P, f, \alpha) = 0, \\
\lowint_a^b f d\alpha &= \sup L(P, f, \alpha) = 0,
\end{align*}
the inf and sup again being taken over all partitions.
Hence $f \in \mathscr{R}(\alpha)$ and that $\int f d \alpha = 0$ by Definition 6.2.
$\Box$ \\

\emph{Proof (Theorem 6.5).}
By Claim 1 and 2,
$$0 \leq U(P, f, \alpha) - L(P, f, \alpha) < \varepsilon.$$
Hence $f \in \mathscr{R}(\alpha)$ by Theorem 6.5.
Furthermore,
$$\int f d \alpha = \lowint_a^b f d\alpha = \sup L(P, f, \alpha) = 0.$$
$\Box$ \\

\emph{Proof (Theorem 6.10).}
$f \in \mathscr{R}(\alpha)$ by Theorem 6.10.
Thus, by Claim 1
$$\int f d \alpha = \lowint_a^b f d\alpha = \sup L(P, f, \alpha) = 0.$$
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.2.}
\emph{Suppose $f \geq 0$,
$f$ is continuous on $[a,b]$, and $\int_{a}^{b} f(x) dx = 0$.
Prove that $f(x) = 0$ for all $x \in [a,b]$.
(Compare with Exercise 6.1.)} \\

For one application, see Exercise 7.20. \\

\emph{Proof.}
(Reductio ad absurdum)
If there were $p \in [a,b]$ such that $f(p) > 0$.
Since $f$ is continuous on $[a,b]$, given $\varepsilon = \frac{1}{64}f(p) > 0$
there exists $\delta > 0$
such that
\[
  |f(x) - f(p)| \leq \frac{1}{64}f(p) \text{ whenever } |x-p| \leq \delta, x \in [a,b].
\]
Hence
\[
  f(x) \geq \frac{63}{64}f(p)
\]
whenever $x \in E = [\max\{a,p-\delta\}, \min\{b,p+\delta\}] \subseteq [a,b]$.
Note that the length of $E$ is $|E| > 0$.
So
\[
  0
  = \int_{a}^{b} f(x) dx
  \geq \int_{E} f(x) dx
  \geq \int_{E} \frac{63}{64}f(p) dx
  = \frac{63}{64}f(p)|E| > 0,
\]
which is absurd.
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.3.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.4.}
\emph{If
\begin{equation*}
  f(x) =
    \begin{cases}
      0 & \text{ for all irrational $x$}, \\
      1 & \text{ for all rational $x$},
    \end{cases}
\end{equation*}
prove that $f \not\in \mathscr{R}$ on $[a,b]$ for any $a < b$.} \\

\emph{Proof.}
Given any partition
\[
  P = \{a = p_0, p_1, \ldots, p_{n-1}, p_n = b \}
\]
of $[a,b]$ where $a = p_0 \leq p_1 \leq \cdots \leq p_{n-1} \leq p_n = b$.
Since $a < b$, we might assume that $a = p_0 < p_1 < \cdots < p_{n-1} < p_n = b$
by removing duplicated points.
Since $\mathbb{Q}$ and $\mathbb{R} - \mathbb{Q}$ are dense in $\mathbb{R}$, we have
\begin{align*}
  M_i &= \sup_{p_{i-1} \leq x \leq p_i} f(x) = 1, \\
  m_i &= \inf_{p_{i-1} \leq x \leq p_i} f(x) = 0, \\
  U(P,f) &= \sum_{i=1}^{n} M_i \Delta x_i = \sum_{i=1}^{n} \Delta x_i = b - a, \\
  L(P,f) &= \sum_{i=1}^{n} m_i \Delta x_i = \sum_{i=1}^{n} 0 = 0.
\end{align*}
Since $P$ is arbitrary,
\begin{align*}
  \upint_a^b f dx &= \inf U(P,f) = b-a > 0, \\
  \lowint_a^b f dx &= \sup L(P,f) = 0.
\end{align*}
Hence $f \not\in \mathscr{R}$ on $[a,b]$ for any $a < b$.
$\Box$ \\

\emph{Note.}
\begin{enumerate}
\item[(1)]
  $f \in \mathscr{R}$ on $[a,b]$ iff $a = b$.

\item[(2)]
  (Problem 4.1 in \emph{H. L. Royden, Real Analysis, 3rd edition}.)
  \emph{Construct a sequence $\{f_n\}$ of nonnegative,
  Riemann integrable functions such that $f_n$ increases monotonically to $f$.
  What does this imply about changing the order of integration and the limiting process?}
  (Since $\mathbb{Q}$ is countable, write
  \[
    \mathbb{Q} = \{ r_1, r_2, \ldots \}.
  \]
  Define
  \begin{equation*}
    f_n(x) =
      \begin{cases}
        0 & \text{ if $x \not\in \{ r_1, \ldots, r_n \}$ }, \\
        1 & \text{ if $x \in \{ r_1, \ldots, r_n \}$ }.
      \end{cases}
  \end{equation*}
  By construction, $f_n$ increases monotonically to $f$ pointwise.
  Note that $f_n \to f$ not uniformly.
  Also, $\int_{a}^{b} f_n(x) dx = 0$ by using the same argument in Theorem 6.10.
  Therefore,
  $\lim_{n \to \infty} \int_{a}^{b} f_n(x) dx = 0$
  but $\int_{a}^{b} \lim_{n \to \infty} f_n(x) dx = \int_{a}^{b} f(x) dx$
  does not exist.) \\\\
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.5.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.6.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.7.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.8.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.9.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.10.}
\emph{Let $p$ and $q$ be positive real integers such that
\[
  \frac{1}{p} + \frac{1}{q} = 1.
\]
Prove the following statements.}
\begin{enumerate}
  \item[(a)]
  \emph{If $u \geq 0$ and $v \geq 0$, then
  \[
    uv \leq \frac{u^p}{p} + \frac{v^q}{q}.
  \]
  Equality holds if and only if $u^p = v^q$.}

  \item[(b)]

  \item[(c)]
\end{enumerate}

\emph{Proof of (a)(Young's inequality).}
$u = 0$ or $v = 0$ is nothing to do.
For $u > 0$ and $v > 0$,
\begin{align*}
  uv
  &= \exp(\log(uv)) \\
  &= \exp(\frac{1}{p}\log(u^p) + \frac{1}{q}\log(v^q)) \\
  &\leq \frac{1}{p} \exp(\log(u^p)) + \frac{1}{q}\exp(\log(v^q))
    &\text{($\exp$ is convex)} \\
  &= \frac{u^p}{p} + \frac{v^q}{q}.
\end{align*}
Or
\begin{align*}
  \log(\frac{u^p}{p} + \frac{v^q}{q})
  &\geq \frac{1}{p} \log(u^p) + \frac{1}{q}\log(v^q)
    &\text{($\log$ is concave)} \\
  &= \log(u) + \log(v) \\
  &= \log(uv)
\end{align*}
and notice that $\log$ increases monotonically.



PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.11.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.12.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.13.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.14.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.15.}
\emph{Suppose $f$ is a real, continuously differentiable function on $[a,b]$,
$f(a)=f(b)=0$, and
\[
  \int_{a}^{b} f(x)^2 dx = 1.
\]
Prove that
\[
  \int_{a}^{b} xf(x)f'(x) dx = -\frac{1}{2}
\]
and that
\[
  \int_{a}^{b} [f'(x)]^2 dx \int_{a}^{b} x^2f(x)^2 dx > \frac{1}{4}.
\]
} \\

\emph{Proof.}
\begin{enumerate}
  \item[(1)]
  By Theorem 6.22 (integration by parts),
  \[
    \int_{a}^{b} x \left( \frac{f(x)^2}{2} \right)' dx
    =
    \left[ x \cdot \frac{f(x)^2}{2} \right]_{x=a}^{x=b}
      - \int_{a}^{b} \frac{f(x)^2}{2} dx,
  \]
  or
  \[
    \int_{a}^{b} xf(x)f'(x) dx
    =
      \left[b \cdot \frac{f(b)^2}{2} - a \cdot \frac{f(a)^2}{2} \right]
      - \frac{1}{2} \int_{a}^{b} f(x)^2 dx
    = \frac{1}{2}.
  \]

  \item[(2)]
  By Exercise 6.10(c),
  \[
    \int_{a}^{b} [f'(x)]^2 dx \int_{a}^{b} x^2f(x)^2 dx
    \geq \left( \int_{a}^{b} xf(x)f'(x) dx \right)^2 = \frac{1}{4}.
  \]
  The equality holds iff
  \[
    f'(x) = \lambda x f(x)
  \:\:\:\:\:\:\:\:
  \text{ or }
  \:\:\:\:\:\:\:\:
  x f(x) = \mu f'(x)
  \]
  on $[a,b]$ for some constant $\lambda, \mu \in \mathbb{R}$.
  \begin{enumerate}
  \item[(a)]
    If $\lambda = 0$, then $f'(x) = 0$ or $f(x)$ is a constant.
    Since $f$ is continuous and $f(a) = f(b) = 0$, $f(x) = 0$ on $[a,b]$,
    contrary to $\int_{a}^{b} f(x)^2 dx = 1$.

  \item[(b)]
    If $\mu = 0$, then $x f(x) = 0$, contrary to $\int_{a}^{b} xf(x)f'(x) dx = -\frac{1}{2}$.
  \end{enumerate}
  By (a)(b),
  The equality holds iff
  \[
    f'(x) = c_1 x f(x)
  \]
  on $[a,b]$ for some constant $c_1 \in \mathbb{R}$.

  \item[(3)]
  Let $g(x) = f(x) \cdot \exp(-\frac{c_1}{2}x^2)$.
  Since
  \begin{align*}
    g'(x)
    &= f'(x) \cdot \exp(-\frac{c_1}{2}x^2) + f(x) \cdot (-c_1 x) \exp(-\frac{c_1}{2}x^2) \\
    &= c_1 x f(x) \cdot \exp(-\frac{c_1}{2}x^2) + f(x) \cdot (-c_1 x) \exp(-\frac{c_1}{2}x^2) \\
    &= 0
  \end{align*}
  for all $x \in (a,b)$,
  $g(x) = c_2$ is a constant.
  Hence $f(x) = c_2 \exp(\frac{c_1}{2}x^2)$ on $(a,b)$.
  Since $f$ is continuous on $[a,b]$,
  $\lim_{x \to a} f(x) = f(a)$,
  or $c_2 \exp(\frac{c_1}{2}a^2) = 0$,
  or $c_2 = 0$,
  or $f(x) = 0$ on $[a,b]$,
  contrary to $\int_{a}^{b} f(x)^2 dx = 1$.

  \item[(4)]
  Therefore, the equality does not hold, or
  \[
    \int_{a}^{b} [f'(x)]^2 dx \int_{a}^{b} x^2f(x)^2 dx > \frac{1}{4}.
  \]
\end{enumerate}
$\Box$ \\\\



PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.16.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.17.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.18.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\textbf{Exercise 6.19.}

PLACEHOLDER \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\end{document}