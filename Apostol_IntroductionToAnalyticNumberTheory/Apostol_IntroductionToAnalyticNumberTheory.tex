\documentclass{article}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{centernot}
\usepackage{hyperref}
\usepackage[none]{hyphenat}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{physics}
\usepackage{tikz-cd}
\parindent=0pt



\title{\textbf{Notes on the book: \\
\emph{Apostol, Introduction to Analytic Number Theory}}}
\author{Meng-Gen Tsai \\ plover@gmail.com}



\begin{document}
\maketitle
\tableofcontents



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



% Reference:



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
\section*{Chapter 1: The Fundamental Theorem of Arithmetic \\}
\addcontentsline{toc}{section}{Chapter 1: The Fundamental Theorem of Arithmetic}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



In these exercises lower case latin letters $a, b, c, \ldots, x, y, z$ represent integers.
Prove each of the statement in Exercise 1.1 through 1.6. \\



\subsubsection*{Exercise 1.1.}
\addcontentsline{toc}{subsubsection}{Exercise 1.1.}
\emph{If $(a,b) = 1$ and if $c|a$ and $d|b$, then $(c,d) = 1$.} \\



\emph{Proof (Theorem 1.2).}
\begin{enumerate}
\item[(1)]
  $(a,b) = 1$ if and only if there are $x, y \in \mathbb{Z}$ such that
  \[
    ax + by = 1
  \]
  (Theorem 1.2).
  As $c|a$ and $d|b$, there exist $c', d' \in \mathbb{Z}$ such that
  $cc' = a$ and $dd' = b$.

\item[(2)]
  Hence
  \[
    c\underbrace{(c'x)}_{:= x'} + d\underbrace{(d'y)}_{:= y'} = 1
  \]
  for some $x', y' \in \mathbb{Z}$.
  That is, $(c,d) = 1$.
\end{enumerate}
$\Box$ \\



\emph{Proof (Theorem 1.12).}
\begin{enumerate}
\item[(1)]
  Write
  \[
    a = \prod p_i^{a_i}, \qquad
    b = \prod p_i^{b_i}.
  \]
  Here $\min\{a_i, b_i\} = 0$ since $(a,b) = 1$ (Theorem 1.12).

\item[(2)]
  As $c|a$ and $d|b$,
  \[
    c = \prod p_i^{a_i'}, \qquad
    d = \prod p_i^{b_i'}
  \]
  where $a_i' \leq a_i$ and $b_i' \leq b_i$.
  As $0 \leq \min\{a_i', b_i'\} \leq \min\{a_i, b_i\} = 0$, $\min\{a_i', b_i'\} = 0$.
  Hence $(c,d) = \prod p_i^{\min\{a_i', b_i'\}} = 1$ (Theorem 1.12).
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 1.2.}
\addcontentsline{toc}{subsubsection}{Exercise 1.2.}
\emph{If $(a,b) = (a,c) = 1$, then $(a,bc) = 1$.} \\



\emph{Proof (Theorem 1.2).}
\begin{enumerate}
\item[(1)]
  $(a,b) = (a,c) = 1$ implies that there are $x, y, z, w \in \mathbb{Z}$ such that
  \[
    ax + by = 1, \qquad
    az + cw = 1
  \]
  (Theorem 1.2).

\item[(2)]
  So
  \[
    1
    = (ax + by)(az + cw)
    = a\underbrace{(axz + byz + cxw)}_{:= x'} + bc\underbrace{(yw)}_{:= y'}
  \]
  for some $x', y' \in \mathbb{Z}$.
  That is, $(a,bc) = 1$.
\end{enumerate}
$\Box$ \\



\emph{Proof (Theorem 1.12).}
\begin{enumerate}
\item[(1)]
  Write
  \[
    a = \prod p_i^{a_i}, \qquad
    b = \prod p_i^{b_i}, \qquad
    c = \prod p_i^{c_i}.
  \]
  Here $\min\{a_i, b_i\} = \min\{a_i, c_i\} = 0$ since $(a,b) = (a,c) = 1$ (Theorem 1.12).
  Observe that $bc = \prod p_i^{b_i+c_i}$.

\item[(2)]
  \emph{Show that for all $i$,
  $\min\{a_i, b_i+c_i\} = 0$ if $\min\{a_i, b_i\} = \min\{a_i, c_i\} = 0$.}
  Nothing to do if $a_i = 0$.
  So if $a_i > 0$, we have
  \[
    b_i = c_i = 0
    \Longrightarrow b_i+c_i = 0
    \Longrightarrow \min\{a_i, b_i+c_i\} = 0.
  \]

\item[(3)]
  Therefore, $(a,bc) = \prod p_i^{\min\{a_i, b_i+c_i\}} = 1$ (Theorem 1.12).
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 1.3.}
\addcontentsline{toc}{subsubsection}{Exercise 1.3.}
\emph{If $(a,b) = 1$, then $(a^n,b^k) = 1$ for all $n \geq 1$, $k \geq 1$.} \\



\emph{Proof (Theorem 1.2).}
\begin{enumerate}
\item[(1)]
  $(a,b) = 1$ implies that there are $x, y \in \mathbb{Z}$ such that
  \[
    ax + by = 1
  \]
  (Theorem 1.2).

\item[(2)]
  Hence
  \begin{align*}
    1
    =& \: (ax + by)^{n+k-1} \\
    =& \: \sum_{i=0}^{n+k-1} {n+k-1 \choose i} (ax)^i (by)^{n+k-1-i} \\
    =& \: \sum_{i=0}^{n-1} {n+k-1 \choose i} (ax)^i (by)^{n+k-1-i} \\
        & \: + \sum_{i=n}^{n+k-1} {n+k-1 \choose i} (ax)^i (by)^{n+k-1-i} \\
    =& \: b^k \underbrace{y^k \sum_{i=0}^{n} {n+k-1 \choose i} (ax)^i (by)^{n-1-i}}_{:= y'} \\
        & \: + a^n \underbrace{x^n \sum_{i=n}^{n+k-1} {n+k-1 \choose i} (ax)^{i-n} (by)^{n+k-1-i}}_{:= x'}
  \end{align*}
  for some $x', y' \in \mathbb{Z}$.
  That is, $(a^n,b^k) = 1$.
\end{enumerate}
$\Box$ \\



\emph{Proof (Theorem 1.12).}
\begin{enumerate}
\item[(1)]
  Write
  \[
    a = \prod p_i^{a_i}, \qquad
    b = \prod p_i^{b_i}.
  \]
  Here $\min\{a_i, b_i\} = 0$ since $(a,b) = 1$ (Theorem 1.12).

\item[(2)]
  Observe that
  \[
    a^n = \prod p_i^{na_i}, \qquad
    b^k = \prod p_i^{kb_i}.
  \]
  Here $\min\{n a_i, k b_i\} = 0$
  (since $a_i = 0 \Longrightarrow na_i = 0$ and $b_i = 0 \Longrightarrow kb_i = 0$).
  Therefore $(a^n,b^k) = 1$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 1.11.}
\addcontentsline{toc}{subsubsection}{Exercise 1.11.}
\emph{Prove that $n^4 + 4$ is composite if $n > 1$.} \\



\emph{Proof.}
  \[
    n^4 + 4
    = (\underbrace{(n-1)^2 + 1}_{> 1})(\underbrace{(n+1)^2 + 1}_{> 1})
  \]
  since $n > 1$.
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 1.15.}
\addcontentsline{toc}{subsubsection}{Exercise 1.15.}
\emph{Prove that every $n \geq 12$ is the sum of two composite numbers.} \\



\emph{Proof.}
  Write $n = 2m$ (resp. $n = 2m + 1$) where $m \in \mathbb{Z}$, $m \geq 6$.
  Then $n = 8 + 2(m-4)$ (resp. $n = 9 + 2(m-4)$) is the sum of two composite numbers.
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 1.16. (Mersenne primes)}
\addcontentsline{toc}{subsubsection}{Exercise 1.16. (Mersenne primes)}
\emph{Prove that if $2^n-1$ is prime, then $n$ is prime.} \\



\emph{Proof.}
  Suppose $n$ is a composite number,
  then we can write $n = ab$ with $a > 1$, $b > 1$.
  Hence
  \[
    2^n - 1
    = 2^{ab} - 1
    = {2^a}^b - 1
    = \underbrace{(2^a - 1)}_{> 1}\underbrace{\{(2^a)^{b-1} + \cdots + 1\}}_{> 1}
  \]
  is also a composite number.
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 1.17. (Fermat primes)}
\addcontentsline{toc}{subsubsection}{Exercise 1.17. (Fermat primes)}
\emph{Prove that if $2^n+1$ is prime, then $n$ is a power of $2$.} \\



\emph{Proof.}
  Write $n = 2^a b$ where $a$ is a nonnegative integer and $b$ is odd.
  Suppose $n$ is not a power of $2$, then $b > 1$.
  Hence
  \[
    2^n + 1
    = 2^{2^a b} + 1
    = \underbrace{(2^{2^a} + 1)}_{> 1}
        \underbrace{\{2^{2^a(b-1)} - \cdots + 1\}}_{> 1}
  \]
  is a composite number.
  (Note that $1 < 2^{2^a(b-1)} < 2^n + 1$
  implies that $1 < (2^{2^a(b-1)} - \cdots + 1) < 2^n+1$ too.)
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 1.30.}
\addcontentsline{toc}{subsubsection}{Exercise 1.30.}
\emph{If $n > 1$ prove that the sum
\[
  \sum_{k=1}^{n} \frac{1}{k}
\]
is not an integer.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  (Reductio ad absurdum)
  Suppose
  \[
    H := \sum_{k=1}^{n} \frac{1}{k}
  \]
  were an integer.

\item[(2)]
  Let $s$ be the largest integer such that $2^s \leq n$.
  So the integer number
  \begin{align*}
    2^{s-1} H
    &= \sum_{k=1}^{n} \frac{2^{s-1}}{k} \\
    &= 2^{s-1} + 2^{s-2} + \frac{2^{s-1}}{3} + 2^{s-3} + \frac{2^{s-1}}{5} + \frac{2^{s-2}}{3}
      + \cdots + \frac{1}{2} + \cdots.
  \end{align*}
  has only one term of even denominators (as $n > 1$)
  if we write all terms in irreducible fractions.
  That is,
  \[
  	2^{s-1} H = \frac{1}{2} + \frac{c}{d} \in \mathbb{Z}
  \]
  where $\frac{c}{d}$ is an irreducible fraction with odd $d$.
  Hence it suffices to show that $2 \mid d$ to get a contradiction.

\item[(3)]
  By
  \[
  	\frac{1}{2} + \frac{c}{d} = \frac{d + 2c}{2d} \in \mathbb{Z}
  \]
  we have $d + 2c = 2dd'$ for some $d' \in \mathbb{Z}$.
  Note that $2$ is a prime.
  So $2 \mid (d + 2c)$ or $2 \mid d$, which is absurd.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
\section*{Chapter 2: Arithmetical functions and Dirichlet multiplication \\}
\addcontentsline{toc}{section}{Chapter 2: Arithmetical functions and Dirichlet multiplication}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.1.}
\addcontentsline{toc}{subsubsection}{Exercise 2.1.}
\emph{Find all integers $n$ such that}
\begin{enumerate}
\item[(a)]
  \emph{$\varphi(n) = \frac{n}{2}$,}

\item[(b)]
  \emph{$\varphi(n) = \varphi(2n)$,}

\item[(c)]
  \emph{$\varphi(n) = 12$.} \\
\end{enumerate}



\emph{Proof of (a).}
  \[
    \varphi(n) = n \prod_{p|n}\left( 1 - \frac{1}{p} \right) = \frac{n}{2}
  \]
  (Theorem 2.4) implies that $n = 2$.
$\Box$ \\



\emph{Proof of (b).}
\begin{enumerate}
\item[(1)]
  $\varphi(n) = \varphi(2n)$ implies that
  \[
    n \prod_{p|n}\left( 1 - \frac{1}{p} \right)
    = 2n \prod_{p|(2n)}\left( 1 - \frac{1}{p} \right).
  \]

\item[(2)]
  If $2 | n$, then $n = 2n$ or $n = 0$, which is absurd.

\item[(3)]
  If $2 \nmid n$, then
  \[
    n \prod_{p|n}\left( 1 - \frac{1}{p} \right)
    = 2n \prod_{p|(2n)}\left( 1 - \frac{1}{p} \right)
    = \underbrace{2n \left( 1 - \frac{1}{2} \right)}_{= n}
      \prod_{p|n}\left( 1 - \frac{1}{p} \right)
  \]
  is always true.
  Hence $n$ is odd if $\varphi(n) = \varphi(2n)$.
\end{enumerate}
$\Box$ \\



\emph{Proof of (c).}
\begin{enumerate}
\item[(1)]
  \emph{Show that the solutions of $\varphi(n) = 12$
  are $n = 13, 26, 21, 28, 42, 36$.}
  Write $n = p_1^{\alpha_1} \cdots p_r^{\alpha_r}$
  where $p_1 < p_2 < \ldots$.
  Then
  \[
    12 = \varphi(n) = \prod_{i=1}^{r} p_i^{\alpha_i - 1}(p_i - 1).
  \]
  (Theorem 2.5).
  It implies that $p_i \in \{ 2, 3, 5, 7, 13 \}$ if $\alpha_i > 0$.
  Consider all possible cases of the greatest prime divisor $p_r$ of $n$ as follows.

\item[(2)]
  If $p_r = 13$, then $\alpha_r = 1$ since $13 \nmid 12$.
  So
  \[
    12
    = \varphi(n)
    = \underbrace{\varphi(13)}_{= 12} \varphi\left(\frac{n}{13}\right)
  \]
  or $1 = \varphi\left(\frac{n}{13}\right)$.
  Hence $\frac{n}{13} = 1, 2$.
  In this case $n = 13, 26$.

\item[(3)]
  If $p_r = 7$, then $\alpha_r = 1$ since $7 \nmid 12$.
  So
  \[
    12
    = \varphi(n)
    = \underbrace{\varphi(7)}_{= 6} \varphi\left(\frac{n}{7}\right)
  \]
  or $2 = \varphi\left(\frac{n}{7}\right)$.
  Hence $\frac{n}{7} = 3, 4, 6$.
  In this case $n = 21, 28, 42$.

\item[(5)]
  If $p_r = 5$, then $\alpha_r = 1$ since $5 \nmid 12$.
  So $12 = \varphi(5)\varphi\left(\frac{n}{5}\right)$
  or $3 = \varphi\left(\frac{n}{5}\right)$, which is impossible.

\item[(6)]
  If $p_r = 3$, then $\alpha_r = 1, 2$.
  $\alpha_r = 1$ is impossible since $3 | 12$.
  So
  \[
    12
    = \varphi(n)
    = \underbrace{\varphi(3^2)}_{= 6}\varphi\left(\frac{n}{3^2}\right)
  \]
  or $2 = \varphi\left(\frac{n}{3^2}\right)$.
  Hence $\frac{n}{3^2} = 4$.
  (By assumption $\frac{n}{3^2}$ cannot have any prime factor $> 3$.)
  In this case $n = 36$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.2.}
\addcontentsline{toc}{subsubsection}{Exercise 2.2.}
\emph{For each of the following statements either give a proof or
exhibit a counter example.}
\begin{enumerate}
\item[(a)]
  \emph{If $(m,n)=1$ then $(\varphi(m),\varphi(n)) = 1$.}

\item[(b)]
  \emph{If $n$ is composite, then $(n,\varphi(n)) > 1$.}

\item[(c)]
  \emph{If the same primes divide $m$ and $n$, then $n\varphi(m) = m \varphi(n)$.} \\
\end{enumerate}



\emph{Proof of (a).}
  It is false since $(5, 13) = 1$ and $(\varphi(5),\varphi(13)) = (4, 12) = 4$.
$\Box$ \\


\emph{Proof of (b).}
  It is false since $(15, \varphi(15)) = (15, 8) = 1$.
$\Box$ \\


\emph{Proof of (c).}
\begin{enumerate}
\item[(1)]
  It is true.

\item[(2)]
  If the same primes divide $m$ and $n$, then
  \[
    \frac{\varphi(n)}{n}
    = \prod_{p|n}\left( 1 - \frac{1}{p} \right)
    = \prod_{p|m}\left( 1 - \frac{1}{p} \right)
    = \frac{\varphi(m)}{m}
  \]
  (Theorem 2.4).
  Hence $n\varphi(m) = m \varphi(n)$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.3.}
\addcontentsline{toc}{subsubsection}{Exercise 2.3.}
\emph{Prove that}
\[
  \frac{n}{\varphi(n)} = \sum_{d|n} \frac{\mu(d)^2}{\varphi(d)}.
\]

\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Note that $fg$, $f/g$ and $f * g$ are multiplicative if $f$ and $g$ are multiplicative
  (Example 5 on page 34 and Theorem 2.14).
  Hence $\frac{n}{\varphi(n)}$ and $\sum_{d|n} \frac{\mu^2(d)}{\varphi(d)}$
  are multiplicative.
  Hence it might assume that $n = p^a$ for some prime $p$ and integer $a \geq 1$.
  (The case $n=1$ is trivial.)

\item[(2)]
  \[
    \frac{p^a}{\varphi(p^a)}
    = \frac{p^a}{p^a - p^{a-1}}
    = \frac{p}{p-1}.
  \]

\item[(3)]
  \begin{align*}
    \sum_{d|p^a} \frac{\mu(d)^2}{\varphi(d)}
    &= \frac{\mu(1)^2}{\varphi(1)} + \frac{\mu(p)^2}{\varphi(p)}
      + \frac{\overbrace{\mu(p^2)^2}^{= 0}}{\varphi(p^2)} + \cdots
      + \frac{\overbrace{\mu(p^a)^2}^{=0}}{\varphi(p^a)} \\
    &= 1 + \frac{1}{p-1} + 0 + \cdots + 0 \\
    &= \frac{p}{p-1}.
  \end{align*}

\item[(4)]
  Or apply Theorems 2.4 and 2.18 to get
  \begin{align*}
    \sum_{d|n} \frac{\mu(d)^2}{\varphi(d)}
    &= \prod_{p|n} \left(1 - \frac{\mu(p)}{\varphi(p)} \right) \\
    &= \prod_{p|n} \left(1 - \frac{-1}{p-1} \right) \\
    &= \prod_{p|n} \frac{p}{p-1} \\
    &= \frac{n}{\varphi(n)}.
  \end{align*}
\end{enumerate}
$\Box$ \\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.4.}
\addcontentsline{toc}{subsubsection}{Exercise 2.4.}
\emph{Prove that $\varphi(n) > \frac{n}{6}$ for all $n$ with at most $8$ distinct prime factors.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  \begin{align*}
    \varphi(n)
    = &\:
    n \prod_{p|n}\left( 1 - \frac{1}{p} \right)
      &(\text{Theorem 2.4}) \\
    \geq &\:
    n \left( 1 - \frac{1}{2} \right) \left( 1 - \frac{1}{3} \right)
      \left( 1 - \frac{1}{5} \right) \left( 1 - \frac{1}{7} \right) \\
    & \: \qquad
      \left( 1 - \frac{1}{11} \right) \left( 1 - \frac{1}{13} \right)
      \left( 1 - \frac{1}{17} \right) \left( 1 - \frac{1}{19} \right) \\
    = &\: \frac{55296}{323323} n \\
    > &\: \frac{n}{6}.
  \end{align*}

\item[(2)]
  The conclusion does not hold if $n$ has more than $9$ distinct prime factors.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.5.}
\addcontentsline{toc}{subsubsection}{Exercise 2.5.}
\emph{Define $\nu(1) = 0$,
and for $n > 1$ let $\nu(n)$ be the number of distinct prime factors of $n$.
Let $f = \mu * \nu$ and prove that $f(n)$ is either $0$ or $1$.} \\



\emph{Proof.}
  It is easy to verify that
  \begin{equation*}
    f(n) :=
    \begin{cases}
      1 & \text{if $n$ is prime}, \\
      0 & \text{otherwise}.
    \end{cases}
  \end{equation*}
  satisfies $\sum_{d \mid n} f(d) = \nu(n)$.
  Hence $f = \mu * \nu$ holds by the M\"obius inversion formula (Theorem 2.9).
$\Box$ \\



\emph{Note.}
We can calculate $f(n)$ for $n = 1, 2, \ldots, 10$ to find the pattern of $f$. \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.6.}
\addcontentsline{toc}{subsubsection}{Exercise 2.6.}
\emph{Prove that
\[
  \sum_{d^2 | n} \mu(d) = \mu(n)^2
\]
and, more generally
\begin{equation*}
  \sum_{d^k | n} \mu(d) =
  \begin{cases}
    0 & \text{if $m^k | n$ for some $m > 1$}, \\
    1 & \text{otherwise}.
  \end{cases}
\end{equation*}
The last sum is extended over all positive divisors $d$ of $n$
whose $k$th power also divide $n$.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Write $n = p_1^{\alpha_1} \cdots p_r^{\alpha_r} q_1^{\beta_1} \cdots q_s^{\beta_s}$
  where $\alpha_i \geq 2$ and $\beta_j = 1$.
  The proof is similar to Theorem 2.1.

\item[(2)]
  If $p_1^{\alpha_1} \cdots p_r^{\alpha_r} = 1$,
  then $\sum_{d^2 | n} \mu(n) = \mu(1) = 1$.

\item[(3)]
  If $p_1^{\alpha_1} \cdots p_r^{\alpha_r} > 1$,
  then
  \begin{align*}
    \sum_{d^2 | n} \mu(d)
    = & \: \mu(1) + \mu(p_1) + \cdots \mu(p_r) \\
      & \: + \mu(p_1 p_2) + \cdots \mu(p_{r-1} p_r) + \cdots + \mu(p_1 \cdots p_r) \\
    = & \: 1 + {r \choose 1}(-1) + {r \choose 2}(-1)^2 + \cdots + {r \choose r}(-1)^r \\
    = & \: (1-1)^k \\
    = & \: 0.
  \end{align*}

\item[(4)]
  By (2)(3), $\sum_{d^2 | n} \mu(d) = \mu(n)^2$.
  Besides, we have
  \begin{equation*}
    \sum_{d^k | n} \mu(d) =
    \begin{cases}
      0 & \text{if $m^k | n$ for some $m > 1$}, \\
      1 & \text{otherwise}
    \end{cases}
  \end{equation*}
  by the same argument as (1)(2)(3).
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.7.}
\addcontentsline{toc}{subsubsection}{Exercise 2.7.}
\emph{Let $\mu(p,d)$ denote the value of the M\"obius function at the gcd of $p$ and $d$.
Prove that for every prime $p$ we have
\begin{equation*}
  \sum_{d|n} \mu(d) \mu(p,d) =
  \begin{cases}
    1 & \text{if $n = 1$}, \\
    2 & \text{if $n = p^a$, $a \geq 1$}, \\
    0 & \text{otherwise}.
  \end{cases}
\end{equation*}
} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  It suffices to show that $\mu(p,n)$ is multiplicative.
  If so, then
  \[
    h(n) := \sum_{d|n} \mu(d)\mu(p,d)
  \]
  is also multiplicative
  by taking $f(n) := \mu(n)\mu(p,n)$ and $g(n) := 1$ in Theorem 2.14.

\item[(2)]
  A direct calculation shows that $h(1) = 1$ (or by Theorem 2.12) and
  \begin{align*}
    h(p^a) &= \mu(1)\mu(p,1) + \mu(p)\mu(p,p) = 1 \cdot 1 + (-1) \cdot (-1) = 2, \\
    h(q^b) &= \mu(1)\mu(p,1) + \mu(q)\mu(p,q) = 1 \cdot 1 + (-1) \cdot 1 = 0
  \end{align*}
  where $q \neq p$ and $a, b \geq 1$.
  Hence (1) and Theorem 2.13 show that
  \begin{equation*}
    h(n) =
    \begin{cases}
      1 & \text{if $n = 1$}, \\
      2 & \text{if $n = p^a$, $a \geq 1$}, \\
      0 & \text{otherwise}.
    \end{cases}
  \end{equation*}

\item[(3)]
  \emph{Show that $\mu(p,n)$ is multiplicative.}
  Suppose $(m,n) = 1$.
  There are two possible cases: $p \nmid mn$ and $p|mn$.
  \begin{enumerate}
  \item[(a)]
    If $p \neq mn$, then all $\mu(p,mn), \mu(p,m), \mu(p,n)$ are equal to $\mu(1) = 1$.

  \item[(b)]
    If $p | mn$, then $p|m$ or $p|n$.
    Note that $(m,n) = 1$ and thus $p$ cannot be a common divisor of $m, n$.
    Hence $\mu(p,mn) = \mu(p) = -1$ and $\mu(p,m)\mu(p,n) = \mu(p)\mu(1) = -1$.
  \end{enumerate}
  In any case $\mu(p,mn) = \mu(p,m)\mu(p,n)$ if $(m,n) = 1$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.8.}
\addcontentsline{toc}{subsubsection}{Exercise 2.8.}
\emph{Prove that
\[
  \sum_{d|n} \mu(d) (\log d)^m = 0
\]
if $m \geq 1$ and $n$ has more than $m$ distinct prime factors.
[Hint: Induction.]} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Induction.

\item[(2)]
  (Base case)
  Suppose $m = 1$.
  Theorem 2.11 implies that
  \[
    \sum_{d|n} \mu(d) \log(d) = - \Lambda(n) = 0
  \]
  since $n$ has at least $2$ distinct prime factors.

\item[(3)]
  (Inductive step)
  Suppose the conclusion holds for $m < m_0$ and $n$ has more than $m$ distinct prime factors.
  Given $n$ having more than $m_0$ distinct prime factors.
  Write $n = p^a n'$ where $a > 0$ and $p \nmid n'$.
  (Here $q$ has more than $m_0 - 1$ distinct prime factors.)
  So by the induction hypothesis and $\sum_{d|n'} \mu(d) = 0$,
  we have
  \begin{align*}
    &\:
    \sum_{d|n} \mu(d) (\log d)^{m_0} \\
    =&\: \sum_{d|n'} \sum_{i = 0}^{a} \mu(p^i d) (\log p^i d)^{m_0} \\
    =&\: \sum_{d|n'} [ \mu(d) (\log d)^{m_0} + \mu(pd) (\log pd)^{m_0} ] \\
    =&\: \sum_{d|n'} [ \mu(d) (\log d)^{m_0}
        + \underbrace{\mu(p)}_{= -1}\mu(d) (\log p + \log d)^{m_0} ] \\
    =&\: \sum_{d|n'} \mu(d) [ (\log d)^{m_0} - (\log p + \log d)^{m_0} ] \\
    =&\: \sum_{d|n'} \mu(d) [ - (\log p)^{m_0} - \cdots - m_0 \log p (\log d)^{m_0 - 1} ] \\
    =&\: - (\log p)^{m_0} \sum_{d|n'} \mu(d) - \cdots
        - m_0 \log p \sum_{d|n'} \mu(d) (\log d)^{m_0 - 1} \\
    =&\: 0.
  \end{align*}

\item[(4)]
  By (2)(3), the conclusion holds for all $m \geq 1$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.9.}
\addcontentsline{toc}{subsubsection}{Exercise 2.9.}
\emph{If $x$ is real, $x \geq 1$, let $\varphi(x,n)$ denote
the number of positive integers $\leq x$ that are relatively prime to $n$.
[Note that $\varphi(n,n) = \varphi(n)$.]
Prove that
\[
  \varphi(x,n) = \sum_{d|n} \mu(d) \left\lfloor \frac{x}{d} \right\rfloor,
  \qquad
  \sum_{d|n} \varphi\left( \frac{x}{d},\frac{n}{d} \right) = \lfloor x \rfloor.
\]}



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  \emph{Show that $\varphi(x,n) = \sum_{d|n} \mu(d) \left\lfloor \frac{x}{d} \right\rfloor$.}
  Similar to the proof of Theorem 2.3.
  $\varphi(x,n)$ can be written in the form
  \[
    \varphi(x,n) = \sum_{1 \leq k \leq x}\left\lfloor \frac{1}{(n,k)} \right\rfloor,
  \]
  where now $k$ runs through all integers $\leq x$.
  Now we use Theorem 2.1 with $n$ replaced by $(n,k)$ to obtain
  \[
    \varphi(x,n)
    = \sum_{1 \leq k \leq x} \sum_{d|(n,k)} \mu(d)
    = \sum_{1 \leq k \leq x} \sum_{\substack{d|n \\ d|k}} \mu(d).
  \]
  For a fixed divisor $d$ of $n$ we must sum over all those $k$ in the range $1 \leq k \leq x$
  which are multiples of $d$.
  If we write $k = qd$ then $1 \leq k \leq x$ if and only if
  $1 \leq q \leq \left\lfloor \frac{x}{d} \right\rfloor$.
  Hence the last sum for $\varphi(x,n)$ can be written as
  \[
    \varphi(x,n)
    = \sum_{d|n} \sum_{1 \leq q \leq \left\lfloor \frac{x}{d} \right\rfloor} \mu(d)
    = \sum_{d|n} \mu(d) \sum_{1 \leq q \leq \left\lfloor \frac{x}{d} \right\rfloor} 1
    = \sum_{d|n} \mu(d) \left\lfloor \frac{x}{d} \right\rfloor.
  \]

\item[(2)]
  \emph{Show that $\sum_{d|n} \varphi\left( \frac{x}{d},\frac{n}{d} \right) = \lfloor x \rfloor$.}
  Similar to the proof of Theorem 2.2.
  Let $S$ denote the set $\{ 1, 2, \ldots, \lfloor x \rfloor \}$.
  We distribute the integers of $S$ into disjoint sets as follows.
  For each divisor $d$ of $n$, let
  \[
    A(d) = \{ k : (k,n) = d, 1 \leq k \leq x \}.
  \]
  That is, $A(d)$ contains those elements of $S$ which have the gcd $d$ with $n$.
  The sets $A(d)$ form a disjoint collection whose union is $S$.
  Therefore if $f(d)$ denotes the number of integers in $A(d)$ we have
  \[
    \sum_{d|n} f(d) = \lfloor x \rfloor.
  \]
  But $(k,n) = d$ if and only if $\left( \frac{k}{d}, \frac{n}{d} \right) = 1$,
  and $0 < k \leq x$ if and only if $0 < \frac{k}{d} \leq \frac{x}{d}$.
  Therefore, if we let $q = \frac{k}{d}$,
  there is a one-to-one correspondence between the elements in $A(d)$
  and those integers $q$ satisfying
  $0 < q \leq \frac{x}{d}$, $\left( q, \frac{n}{d} \right) = 1$.
  The number of such $q$ is $\varphi\left( \frac{x}{d},\frac{n}{d} \right)$.
  Hence $f(d) = \varphi\left( \frac{x}{d},\frac{n}{d} \right)$ and thus
  \[
    \sum_{d|n} \varphi\left( \frac{x}{d},\frac{n}{d} \right) = \lfloor x \rfloor.
  \]
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\emph{In Exercise 2.10, 2.11 and 2.12, $d(n)$ denotes the number of positive divisors of $n$.} \\



\subsubsection*{Exercise 2.10.}
\addcontentsline{toc}{subsubsection}{Exercise 2.10.}
\emph{Prove that $\prod_{t|n} t = n^{\frac{d(n)}{2}}$.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Note that
  $d(1) = 1$ and
  \[
    d(p_1^{\alpha_1} \cdots p_r^{\alpha_r})
    = (\alpha_1 + 1) \cdots (\alpha_r + 1)
    = d(p_1^{\alpha_1}) \cdots d(p_r^{\alpha_r}).
  \]
  Hence $d(n)$ is multiplicative (Theorem 2.13).

\item[(2)]
  \emph{Show that $\prod_{t|n} t = n^{\frac{d(n)}{2}}$.}
  $n = 1$ is trivial.
  Assume $n = p_1^{\alpha_1} \cdots p_r^{\alpha_r} > 1$.
  Then $t|n$ if and only if $t = p_1^{x_1} \cdots p_r^{x_r}$
  with $0 \leq x_i \leq \alpha_i$ ($i = 1, \ldots, r$).
  So
  \begin{align*}
    \prod_{t|n} t
    &= \prod_{\substack{0 \leq x_1 \leq \alpha_1 \\ \cdots \\ 0 \leq x_r \leq \alpha_r}}
      p_1^{x_1} \cdots p_r^{x_r} \\
    &= p_1^{(0 + 1 + \cdots + \alpha_1)(\alpha_2 + 1) \cdots (\alpha_r + 1)}
      \cdots
      p_r^{(\alpha_1 + 1) \cdots (\alpha_{r-1} + 1)(0 + 1 + \cdots + \alpha_r)} \\
    &= p_1^{\frac{\alpha_1(\alpha_1 + 1)}{2} \cdot (\alpha_2 + 1) \cdots (\alpha_r + 1)}
      \cdots
      p_r^{(\alpha_1 + 1) \cdots (\alpha_{r-1} + 1) \cdot \frac{\alpha_r(\alpha_r + 1)}{2}} \\
    &= p_1^{\alpha_1 \frac{d(n)}{2}} \cdots p_r^{\alpha_r \frac{d(n)}{2}} \\
    &= (p_1^{\alpha_1} \cdots p_r^{\alpha_r})^{\frac{d(n)}{2}} \\
    &= n^{\frac{d(n)}{2}}.
  \end{align*}
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.11.}
\addcontentsline{toc}{subsubsection}{Exercise 2.11.}
\emph{Prove that $d(n)$ is odd if, and only if, $n$ is a square.} \\



\emph{Proof.}
  $n = 1$ is trivial.
  Assume $n = p_1^{\alpha_1} \cdots p_r^{\alpha_r} > 1$.
  Then
  \begin{align*}
    & \:
    \text{$d(n) = (\alpha_1 + 1) \cdots (\alpha_r + 1)$ is odd}
      &(\text{Exercise 2.10}) \\
    \Longleftrightarrow & \:
    \text{$\alpha_1 + 1, \ldots, \alpha_r + 1$ are odd} \\
    \Longleftrightarrow & \:
    \text{$\alpha_1, \ldots, \alpha_r$ are even} \\
    \Longleftrightarrow & \:
    \text{$n$ is a square}.
  \end{align*}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.12.}
\addcontentsline{toc}{subsubsection}{Exercise 2.12.}
\emph{Prove that $\sum_{t|n} d(t)^3 = \left(\sum_{t|n} d(t)\right)^2$.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Exercise 2.10 shows that $d(n)$ is multiplicative.
  Similar to the proof of Exercise 2.7,
  both $f(n) := \sum_{t|n} d(t)^3$ and $g(n) := \left(\sum_{t|n} d(t)\right)^2$
  are multiplicative.
  So it suffices to show that $f(p^a) = g(p^a)$ (Theorem 2.13).

\item[(2)]
  A direct calculation shows that
  \begin{align*}
    f(p^a)
    &= \sum_{t|p^a} d(t)^3 \\
    &= d(1)^3 + d(p)^3 + \cdots + d(p^a)^3 \\
    &= 1^3 + 2^3 + \cdots + (a+1)^3 \\
    &= \left( \frac{(a+1)(a+2)}{2} \right)^2
  \end{align*}
  and
  \begin{align*}
    g(p^a)
    &= \left( \sum_{t|p^a} d(t) \right)^2 \\
    &= (d(1) + d(p) + \cdots + d(p^a))^2 \\
    &= (1 + 2 + \cdots + (a+1))^2 \\
    &= \left( \frac{(a+1)(a+2)}{2} \right)^2
  \end{align*}
  are equal.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.13. (Product form of the M\"obius inversion formula)}
\addcontentsline{toc}{subsubsection}{Exercise 2.13. (Product form of the M\"obius inversion formula)}
\emph{\textbf{Product form of the M\"obius inversion formula}.
If $f(n) > 0$ for all $n$ and if $a(n)$ is real, $a(1) \neq 0$,
prove that
\[
  g(n) = \prod_{d|n} f(d)^{a\left(\frac{n}{d}\right)}
  \qquad
  \text{ if, and only if, }
  \qquad
  f(n) = \prod_{d|n} g(d)^{b\left(\frac{n}{d}\right)}
\]
where $b = a^{-1}$, the Dirichlet inverse of $a$.} \\



\emph{Proof.}
  As $f(n) > 0$ for all $n$, $a(n)$ is real, and $a(1) \neq 0$,
  we have
  \begin{align*}
    & \:
    \underbrace{\log g(n)}_{\text{well-defined}}
    = \sum_{d|n} a\left(\frac{n}{d}\right) \underbrace{\log f(d)}_{\text{well-defined}} \\
    \Longleftrightarrow & \:
    \log g = a * \log f \\
    \Longleftrightarrow & \:
    \log f = b * \log g \\
    \Longleftrightarrow & \:
    \log f(n)
    = \sum_{d|n} b\left(\frac{n}{d}\right) \log g(d) \\
    \Longleftrightarrow & \:
    f(n) = \prod_{d|n} g(d)^{b\left(\frac{n}{d}\right)}.
  \end{align*}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.14.}
\addcontentsline{toc}{subsubsection}{Exercise 2.14.}
\emph{Let $f(x)$ be defined for all rational $x$ in $0 \leq x \leq 1$ and let
\[
  F(n) = \sum_{1 \leq k \leq n} f\left( \frac{k}{n} \right),
  \qquad
  F^{*}(n) = \sum_{\substack{1 \leq k \leq n \\ (k,n)=1}} f\left( \frac{k}{n} \right).  
\]}
\begin{enumerate}
\item[(a)]
  \emph{Prove that $F^{*} = \mu * F$, the Dirichlet product of $\mu$ and $F$.}

\item[(b)]
  \emph{Use (a) or some other means to prove that $\mu(n)$ is the of the primitive $n$th
  roots of unity:}
  \[
    \mu(n) = \sum_{\substack{1 \leq k \leq n \\ (k,n)=1}} e^{\frac{2\pi i k}{n}}.
  \] \\
\end{enumerate}



\emph{Proof of (a).}
  As $\mu * u = I$, it suffices to show that $u * F^{*} = F$.
  Hence
  \begin{align*}
    (u * F^{*})(n)
    &= \sum_{d|n} F^{*}(d) \\
    &= \sum_{d|n} \sum_{\substack{1 \leq k \leq d \\ (k,d)=1}} f\left( \frac{k}{d} \right) \\
    &= \sum_{\substack{d|n \\ 1 \leq k \leq d \\ (k,d)=1}} f\left( \frac{k}{d} \right) \\
    &= \sum_{1 \leq k \leq n} f\left( \frac{k}{n} \right) \\
    &= F(n).
  \end{align*}
$\Box$ \\



\emph{Proof of (b).}
  Let $f(x) = e^{2\pi i x}$ defined on $[0,1]$.
  Then
  \[
    F(n)
    = \sum_{1 \leq k \leq n} f\left( \frac{k}{n} \right)
    = \sum_{1 \leq k \leq n} e^{\frac{2\pi i k}{n}}
    = I(n).
  \]
  Hence
  \[
    \sum_{\substack{1 \leq k \leq n \\ (k,n)=1}} e^{\frac{2\pi i k}{n}}
    = F^{*}(n)
    = (\mu * F)(n)
    = (\mu * I)(n)
    = \mu(n).
  \]
$\Box$ \\



\subsubsection*{Supplement 2.14.1. (Related exercises)}
\addcontentsline{toc}{subsubsection}{Supplement 2.14.1. (Related exercises)}
\emph{Show that
\[
  \varphi(n)
  = \sum_{1 \leq k \leq n}
      \prod_{p|n}\left( 1 - \frac{1}{p} \sum_{1 \leq a \leq p} e^{\frac{2\pi i ka}{p}} \right).
\]} \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.15. ($\varphi_k(n)$ function)}
\addcontentsline{toc}{subsubsection}{Exercise 2.15. ($\varphi_k(n)$ function)}
\emph{Let $\varphi_k(n)$ denote the sum of the $k$th powers of
the numbers $\leq n$ and relatively prime to $n$.
Note that $\varphi_0(n) = \varphi(n)$.
Use Exercise 2.14 or some other means to prove that
\[
  \sum_{d|n} \frac{\varphi_k(n)}{d^k} = \frac{1^k + \cdots + n^k}{n^k}.
\]} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Let $f(x) = x^k$ defined on $[0,1]$.
  Then
  \[
    F(n)
    = \sum_{1 \leq i \leq n} f\left( \frac{i}{n} \right)
    = \frac{1^k + \cdots + n^k}{n^k}.
  \]

\item[(2)]
  The proof of Exercise 2.14 shows that
  \[
    F(n)
    = (u * F^{*})(n)
    = \sum_{d|n} \sum_{\substack{1 \leq i \leq d \\ (i,d)=1}} f\left( \frac{i}{d} \right)
    = \sum_{d|n} \frac{1}{d^k}
      \underbrace{\sum_{\substack{1 \leq i \leq d \\ (i,d)=1}} i^k}_{= \varphi_k(n)}.
  \]

\item[(3)]
  Hence the result is established by (1)(2).
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.16.}
\addcontentsline{toc}{subsubsection}{Exercise 2.16.}
\emph{Invert the formula in Exercise 2.15 to obtain, for $n > 1$,
\[
  \varphi_1(n) = \frac{1}{2}n\varphi(n),
  \qquad\text{ and }
  \varphi_2(n) = \frac{1}{3}n^2 \varphi(n) + \frac{n}{6} \prod_{p|n}(1-p).
\]
Derive a corresponding formula for $\varphi_3(n)$.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Exercise 2.15 shows that
  \[
    \sum_{d|n} \varphi_k(n) \underbrace{\left(\frac{n}{d}\right)^k}_{:= f\left(\frac{n}{d}\right)}
        = \underbrace{1^k + \cdots + n^k}_{:= S_k(n)}
    \Longleftrightarrow
    \varphi_k * f = S_k.
  \]
  Here $f(n) = N(n)^k = n^k$ and $S_k(n) = 1^k + \cdots + n^k$.

\item[(2)]
  As $f(n)$ is completely multiplicative,
  Theorem 2.17 implies that $f^{-1}(n) = \mu(n) f(n)$ for all $n \geq 1$.
  Hence
  \begin{align*}
    \varphi_k(n)
    &= (S_k * f^{-1})(n) \\
    &= (S_k * (\mu f))(n) \\
    &= \sum_{d|n} S_k(d) \mu\left(\frac{n}{d}\right)\left(\frac{n}{d}\right)^k.
  \end{align*}

\item[(3)]
  \emph{Show that $\varphi_1(n) = \frac{1}{2}n\varphi(n)$.}
  Note that $S_1(d) = \frac{d(d+1)}{2}$.
  Hence
  \begin{align*}
    \varphi_1(n)
    &= \sum_{d|n} \frac{d(d+1)}{2} \mu\left(\frac{n}{d}\right) \frac{n}{d} \\
    &= \frac{n}{2} \sum_{d|n} d \mu\left(\frac{n}{d}\right)
        + \frac{n}{2} \sum_{d|n} \mu\left(\frac{n}{d}\right) \\
    &= \frac{n}{2} \varphi(n)
        + \frac{n}{2} \left\lfloor \frac{1}{n} \right\rfloor
      &(\text{Theorems 2.1, 2.3})
  \end{align*}
  for all $n \geq 1$.
  So the result is established if $n > 1$.

\item[(4)]
  \emph{Show that $\varphi_2(n) = \frac{1}{3}n^2 \varphi(n) + \frac{1}{6} n\prod_{p|n}(1-p)$.}
  Note that $S_2(d) = \frac{d(d+1)(2d+1)}{6}$.
  Hence Theorem 2.1, 2.3 and 2.18 imply that
  \begin{align*}
    \varphi_2(n)
    &= \sum_{d|n} \frac{d(d+1)(2d+1)}{6} \mu\left(\frac{n}{d}\right) \left(\frac{n}{d}\right)^2 \\
    &= \frac{n^2}{3} \underbrace{\sum_{d|n} d \mu\left(\frac{n}{d}\right)}_{= \varphi(n)}
        + \frac{n^2}{2}
            \underbrace{\sum_{d|n} \mu\left(\frac{n}{d}\right)}_{= \left\lfloor \frac{1}{n} \right\rfloor}
        + \frac{n}{6}
            \underbrace{\sum_{d|n} \mu\left(\frac{n}{d}\right)\left(\frac{n}{d}\right)}_{
                = \prod_{p|n}(1 - p)}
  \end{align*}
  for all $n \geq 1$.
  So the result is established if $n > 1$.

\item[(4)]
  \emph{Show that}
  \[
    \varphi_3(n) = \frac{1}{4}n^3 \varphi(n) + \frac{1}{4} n^2 \prod_{p|n}(1-p).
  \]
  Note that $S_3(d) = \frac{d^2(d+1)^2}{4}$.
  Hence Theorem 2.1, 2.3 and 2.18 imply that
  \begin{align*}
    \varphi_3(n)
    &= \sum_{d|n} \frac{d^2(d+1)^2}{4} \mu\left(\frac{n}{d}\right) \left(\frac{n}{d}\right)^3 \\
    &= \frac{n^3}{4} \underbrace{\sum_{d|n} d \mu\left(\frac{n}{d}\right)}_{= \varphi(n)}
        + \frac{n^3}{2}
            \underbrace{\sum_{d|n} \mu\left(\frac{n}{d}\right)}_{= \left\lfloor \frac{1}{n} \right\rfloor}
        + \frac{n^2}{4}
            \underbrace{\sum_{d|n} \mu\left(\frac{n}{d}\right)\left(\frac{n}{d}\right)}_{
                = \prod_{p|n}(1 - p)}
  \end{align*}
  for all $n \geq 1$.
  So the result is established if $n > 1$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.17. (Jordan's totient function)}
\addcontentsline{toc}{subsubsection}{Exercise 2.17. (Jordan's totient function)}
\emph{Jordan's totient $J_k$ is a generalization of Euler’s totient defined by}
\[
  J_k(n) = n^k \prod_{p|n}(1 - p^{-k}).
\]
\begin{enumerate}
\item[(a)]
  \emph{Prove that
  \[
    J_k(n) = \sum_{d|n} \mu(d) \left( \frac{n}{d} \right)^k
    \qquad
    \text{and}
    \qquad
    n^k = \sum_{d|n} J_k(d).
  \]}
\item[(b)]
  \emph{Determine the Bell series for $J_k$.} \\
\end{enumerate}



\emph{Proof of (a).}
\begin{enumerate}
\item[(1)]
  \emph{Show that $J_k(n) = \sum_{d|n} \mu(d) \left( \frac{n}{d} \right)^k$.}
  Similar to Exercise 2.7.
  Note that $J_k$ is multiplicative.
  Theorem 2.14 shows that
  the Dirichlet product $n \mapsto \sum_{d|n} \mu(d) \left( \frac{n}{d} \right)^k$ is multiplicative.
  Hence it suffices to show that
  \[
    J_k(n) = \sum_{d|n} \mu(d) \left( \frac{n}{d} \right)^k
  \]
  for $n = p^a$ where $p$ is prime and $a \geq 1$.
  It is easy since
  \begin{align*}
    p^a \mapsto \sum_{d|p^a} \mu(d) \left( \frac{p^a}{d} \right)^k
    &= \mu(1) p^{ak} + \mu(p) p^{(a-1)k} \\
    &= p^{ak} - p^{(a-1)k} \\
    &= J_k(p^a).
  \end{align*}

\item[(2)]
  \emph{Show that $n^k = \sum_{d|n} J_k(d)$.}
  Note that $\mu * u = I$ by Theorem 2.1.
  So Theorem 2.9 (M\"obius inversion formula) implies that
  \[
    n^k = J_k * u = \sum_{d|n} J_k(d).
  \]
\end{enumerate}
$\Box$ \\



\emph{Proof of (b).}
\begin{enumerate}
\item[(1)]
  Since $J_k(1) = 1$ and $J_k(p^n) = p^{nk} - p^{(n-1)k}$ for $n \geq 1$,
  we have
  \begin{align*}
    (J_k)_p(x)
    &= \sum_{n=0}^{\infty} J_k(p^n) x^n \\
    &= 1 + \sum_{n=0}^{\infty} \left(p^{nk} - p^{(n-1)k}\right) x^n \\
    &= \sum_{n=0}^{\infty} p^{nk} x^n - x \sum_{n=0}^{\infty} p^{nk} x^n \\
    &= (1-x) \sum_{n=0}^{\infty} p^{nk} x^n \\
    &= \frac{1-x}{1 - p^k x}.
  \end{align*}

\item[(2)]
  Another proof by using Theorem 2.25.
  Note that $\mu_p(x) = 1 - x$ and $N^k_p(x) = \frac{1}{1 - p^k x}$.
  Theorem 2.25 implies
  $(J_k)_p(x) = \mu_p(x) N^k_p(x) = \frac{1-x}{1 - p^k x}$ too.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.18.}
\addcontentsline{toc}{subsubsection}{Exercise 2.18.}
\emph{Prove that every number of the form $2^{a-1}(2^a-1)$ is perfect
if $2^a-1$ is prime.} \\



\emph{Proof.}
  Write $n := 2^{a-1}(2^a-1)$.
  Here $(2^{a-1}, 2^a - 1) = 1$ since $2^a - 1$ is always odd and Exercise 1.3.
  Hence
  \begin{align*}
    \sigma(n)
    =& \: \sigma(2^{a-1}) \sigma(2^a-1)
      &(\text{$\sigma$ is a multiplicative}) \\
    =& \: (1 + 2 + \cdots + 2^{a-1})\{1 + (2^a-1)\}
      &(\text{$2^a - 1$ is prime}) \\
    =& \: (2^a - 1) \cdot \underbrace{(2^a)}_{= 2^{a-1} \cdot 2} \\
    =& \: 2n.
  \end{align*}
  Therefore $n$ is perfect.
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.19.}
\addcontentsline{toc}{subsubsection}{Exercise 2.19.}
\emph{Prove that if $n$ is even and perfect then $n = 2^{a-1}(2^a-1)$ for some $a \geq 2$.
It is not known if any odd perfect numbers exist.
It is known that there are no odd perfect numbers with less than $7$ distinct prime factors.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Suppose $n$ is even and perfect.
  We might write $n = 2^{a-1}q$ for some $a \geq 2$ and $2 \nmid q$.
  As $n$ is perfect, we have
  \begin{align*}
    &\:
    2n = \sigma(n) \\
    \Longrightarrow &\:
    \underbrace{2 \cdot 2^{a-1}q}_{= 2^a q}
    = 2n
    = \sigma(2^{a-1}q)
    = \underbrace{\sigma(2^{a-1})}_{= 2^{a}-1} \sigma(q) \\
    \Longrightarrow &\:
    2^{a}q = (2^{a} - 1) \sigma(q) \\
    \Longrightarrow &\:
    \text{$q = (2^a - 1) q_1$ for some $q_1$ since $(2^a-1, 2^a) = 1$} \\
    \Longrightarrow &\:
    2^{a} (2^a - 1) q_1 = (2^{a} - 1) \sigma(q) \\
    \Longrightarrow &\:
    2^{a} q_1 = \sigma(q) = \sigma((2^a - 1) q_1).
  \end{align*}

\item[(2)]
  If $q_1 > 1$, then
  \begin{align*}
    2^{a} q_1
    &= \sigma(q) \\
    &= \sigma((2^a - 1) q_1) \\
    &\geq (2^a - 1) q_1 + (2^a - 1) + q_1 + 1 \\
    &= 2^{a} q_1 + 2^a,
  \end{align*}
  which is absurd.
  Therefore $q_1 = 1$. So $q = 2^a - 1$ and thus $n = 2^a(2^a-1)$.

\item[(3)]
  Pace P. Nielsen shows that
  \begin{enumerate}
  \item[(a)]
    An odd perfect number $n$ is shown to have at least $9$ distinct prime factors.

  \item[(b)]
    Moreover, if $3 \nmid n$ then $n$ must have at least $12$ distinct prime divisors.
  \end{enumerate}
  See [Pace P. Nielsen, \emph{Odd perfect numbers have at least nine distinct prime factors}, 2006].
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.20.}
\addcontentsline{toc}{subsubsection}{Exercise 2.20.}
\emph{Let $P(n)$ be the product of the positive integers which are $\leq n$ and
relatively prime to $n$.
Prove that
\[
  P(n)
  = n^{\varphi(n)} \prod_{d|n} \left( \frac{d!}{d^d} \right)^{\mu\left( \frac{n}{d} \right)}.
\]} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  To prove $\frac{P(n)}{n^{\varphi(n)}}
  = \prod_{d|n} \left( \frac{d!}{d^d} \right)^{\mu\left( \frac{n}{d} \right)}$,
  it suffices to show that
  \[
    \frac{n!}{n^n} = \prod_{d|n} \frac{P(d)}{d^{\varphi(d)}}
  \]
  by product form of the M\"obius inversion formula (Exercise 2.13).

\item[(2)]
  Similar to Exercise 2.14,
  \[
    \frac{n!}{n^n}
    = \prod_{1 \leq k \leq n} \frac{k}{n}
    = \prod_{d|n} \prod_{\substack{1 \leq k \leq d \\ (k,d) = 1}} \frac{k}{d}
    = \prod_{d|n} \frac{P(d)}{d^{\varphi(d)}}.
  \]
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.21.}
\addcontentsline{toc}{subsubsection}{Exercise 2.21.}
\emph{Let $f(n) = \lfloor \sqrt{n} \rfloor - \lfloor \sqrt{n-1} \rfloor$.
Prove that $f$ is multiplicative but not completely multiplicative.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  \emph{Show that}
  \begin{equation*}
    f(n) =
    \begin{cases}
      1 & \text{if $n$ is a square}, \\
      0 & \text{otherwise}.
    \end{cases}
  \end{equation*}
  \begin{enumerate}
  \item[(a)]
    Write $m = \lfloor \sqrt{n} \rfloor$. So $m^2 \leq n < (m+1)^2$.

  \item[(b)]
    Suppose $n = m^2$ is a square.
    Since $m \geq 1$ and $(m-1)^2 \leq m^2 - 1 = n - 1 < m^2$,
    $\lfloor \sqrt{n-1} \rfloor = m - 1$.
    Therefore $f(n) = 1$.

  \item[(c)]
    Suppose $n$ is not a square.
    So $m^2 < n < (m+1)^2$.
    So $\lfloor \sqrt{n-1} \rfloor = m$ since $m^2 \leq n - 1 < n < (m+1)^2$.
    Therefore $f(n) = 0$.
  \end{enumerate}

\item[(2)]
  It is easy to see that $f$ is multiplicative but not completely multiplicative
  (since $f(p^2) \neq f(p)^2$ for all prime $p$).
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.23.}
\addcontentsline{toc}{subsubsection}{Exercise 2.23.}
\emph{Prove the following statement or exhibit a counter example.
If $f$ is multiplicative, then $F(n) = \prod_{d|n} f(d)$ is multiplicative.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  False.

\item[(2)]
  Take a completely multiplicative function $f = N$ defined by $f(n) = n$.
  Then $F$ is not multiplicative since $pq = F(p) F(q) \neq F(pq) = p^2q^2$
  for any two distinct primes $p$, $q$.

\item[(3)]
  Or take a multiplicative function $f = \varphi$.
  Then $F$ is not multiplicative since $(p-1)(q-1) = F(p) F(q) \neq F(pq) = (p-1)^2(q-1)^2$
  for any two distinct primes $p$, $q$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.24.}
\addcontentsline{toc}{subsubsection}{Exercise 2.24.}
\emph{Let $A(x)$ and $B(x)$ be formal power series.
If the product $A(x)B(x)$ is the zero series, prove that at least one factor is zero.
In other words, the ring of formal power series has no zero divisors.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Write $A(x) = \sum_{n=0}^{\infty} a(n) x^n$
  and $B(x) = \sum_{n=0}^{\infty} b(n) x^n$
  where the coefficients $a(n)$ and $b(n)$ are in $\mathbb{C}$ (or any integral domain).

\item[(2)]
  (Reductio ad absurdum)
  Suppose $A(x) \neq 0$ and $B(x) \neq 0$.
  Let $r$ (resp. $s$) be the smallest integer such that $a(r) \neq 0$ (resp. $b(s) \neq 0$).
  Hence
  \[
    A(x)B(x)
    = a(r)b(s) x^{r+s} + \cdots
  \]
  Here there is no $x^n$ term if $n < r+s$.
  So $A(x)B(x) = 0$ implies that $a(r)b(s) = 0$.
  Hence $a(r) = 0$ or $b(s) = 0$ (as $\mathbb{C}$ is an integral domain), which is absurd.
\end{enumerate}
$\Box$ \\\\



\subsubsection*{Supplement 2.24.1. (Related exercises)}
\addcontentsline{toc}{subsubsection}{Supplement 2.24.1. (Related exercises)}
\begin{enumerate}
\item[(1)]
  (Exercise 1.2 in the textbook: Atiyah and Macdonald, \emph{Introduction to Commutative Algebra}.)
  \emph{Let $A$ be a ring and
  let $A[x]$ be the ring of polynomials in an indeterminate $x$,
  with coefficients in $A$.
  Let $f = a_0 + a_1 x + \cdots + a_n x^n \in A[x]$.
  Prove that}
  \begin{enumerate}
  \item[(i)]
    \emph{$f$ is a unit in $A[x]$ if and only if
    $a_0$ is a unit in $A$ and
    $a_1, \ldots, a_n$ are nilpotent.
    (Hint: If $b_0 + b_1 x + \cdots + b_m x^m$ is the inverse of $f$,
    prove by induction on $r$ that $a_n^{r+1} b_{m-r} = 0$.
    Hence show that $a_n$ is nilpotent, and then use Exercise 1.1.)}

  \item[(ii)]
    \emph{$f$ is nilpotent if and only if
    $a_0, a_1, \ldots, a_n$ are nilpotent.}

  \item[(iii)]
    \emph{$f$ is a zero-divisor if and only if
    there exists $a \neq 0$ such that $af = 0$.
    (Hint: Choose a polynomial $g = b_0 + b_1 x + \cdots + b_m x^m$
    of least degree $m$ such that $fg = 0$.
    Then $a_n b_m = 0$, hence $a_n g = 0$
    (because $a_n g$ annihilates $f$ and has degree $< m$).
    Now show by induction that $a_{n-r}g = 0$ $(0 \leq r \leq n)$.)}

  \item[(iv)]
    \emph{$f$ is said to be \textbf{primitive} if $(a_0, a_1, \ldots, a_n) = (1)$.
    Prove that if $f, g \in A[x]$, then $fg$ is primitive if and only if
    $f$ and $g$ are primitive.} \\
  \end{enumerate}

\item[(2)]
  (Exercise 1.3 in the textbook: Atiyah and Macdonald, \emph{Introduction to Commutative Algebra}.)
  \emph{Generalize the results of Exercise 1.2 to a polynomial ring
  $A[x_1, \ldots, x_r]$ in several indeterminates.} \\

\item[(3)]
  (Exercise 1.5 in the textbook: Atiyah and Macdonald, \emph{Introduction to Commutative Algebra}.)
  \emph{Let $A$ be a ring and let $A[[x]]$ be the ring of formal power series
  $f = \sum_{n=0}^{\infty} a_n x^n$ with coefficients in $A$. Show that}
  \begin{enumerate}
  \item[(i)]
    \emph{$f$ is a unit in $A[[x]]$ if and only if $a_0$ is a unit in $A$.}

  \item[(ii)]
    \emph{If $f$ is nilpotent, then $a_n$ is nilpotent for all $n \geq 0$.
    Is converse true? (See Exercise 7.2.)}

  \item[(iii)]
    \emph{$f$ belongs to the Jacobson radical of $A[[x]]$ if and only if
    $a_0$ belongs to the Jacobson radical of $A$.}

  \item[(iv)]
    \emph{The contraction of a maximal ideal $\mathfrak{m}$ of $A[[x]]$ is a maximal ideal of $A$,
    and $\mathfrak{m}$ is generated by $\mathfrak{m}^c$ and $x$.}

  \item[(v)]
    \emph{Every prime ideal of $A$ is the contraction of a prime ideal of $A[[x]]$.} \\
  \end{enumerate}

\item[(4)]
  (Exercise II.1.2 in the textbook: Jürgen Neukirch, \emph{Algebraic Number Theory}.)
  \emph{A $p$-adic integer $a = a_0 + a_1 p + a_2 p^2 + \cdots$
  is a unit in the ring $\mathbb{Z}_p$ if and only if $a_0 \neq 0$.} \\
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.25.}
\addcontentsline{toc}{subsubsection}{Exercise 2.25.}
\emph{Assume $f$ is multiplicative. Prove that:}
\begin{enumerate}
\item[(a)]
  \emph{$f^{-1}(n) = \mu(n)f(n)$ for every squarefree $n$.}

\item[(b)]
  \emph{$f^{-1}(p^2) = f(p)^2 - f(p^2)$ for every prime $p$.} \\
\end{enumerate}



\emph{Proof of (a).}
\begin{enumerate}
\item[(1)]
  A direct calculation shows that
  \begin{align*}
    ((\mu f) * f)(n)
    &= \sum_{d|n} \mu(d) f(d) f\left( \frac{n}{d} \right) \\
    &= \sum_{d|n} \mu(d) f(n) \\
    &= f(n) \sum_{d|n} \mu(d) \\
    &= f(n) I(n) \\
    &= I(n).
  \end{align*}
  The second equality holds since $f$ is multiplicative and
  $\left(d, \frac{n}{d} \right) = 1$ as $n$ is squarefree.
  The last equality holds since $f(1) = 1$ as $f$ is multiplicative.

\item[(2)]
  Or we can apply Theorem 2.8 with induction.
  If $n = 1$, the conclusion holds trivially.
  Suppose the conclusion holds for every squarefree less than $n$ where $n > 1$.
  Then Theorem 2.8 implies that
  \begin{align*}
    f^{-1}(n)
    &= \frac{-1}{f(1)} \sum_{\substack{d|n \\ d < n}} f\left(\frac{n}{d}\right) f^{-1}(d) \\
    &= \frac{-1}{f(1)} \sum_{\substack{d|n \\ d < n}} f\left(\frac{n}{d}\right) \mu(d)f(d)
      &(\text{Induction hypothesis}) \\
    &= - \sum_{\substack{d|n \\ d < n}} \mu(d)
        \underbrace{f\left(\frac{n}{d}\right) f(d)}_{= f(n)} \\
    &= -f(n) \sum_{\substack{d|n \\ d < n}} \mu(d) \\
    &= -f(n)(I(n) - \mu(n)) \\
    &= f(n)\mu(n).
  \end{align*}
\end{enumerate}
$\Box$ \\



\emph{Proof of (b).}
\begin{enumerate}
\item[(1)]
  Note that $f(1) = f^{-1}(1) = 1$ since $f$ is multiplicative.
  Theorem 2.8 shows that
  \begin{align*}
    f^{-1}(p^2)
    &= \frac{-1}{f(1)} \left\{ f(p^2)f^{-1}(1) + f(p)f^{-1}(p) \right\} \\
    &= - f(p^2) - f(p)f^{-1}(p) \\
    &= - f(p^2) - f(p) \underbrace{\mu(p)}_{= -1} f(p)
      &(\text{Part (a)}) \\
    &= f(p)^2 - f(p^2).
  \end{align*}

\item[(2)]
  Note that Theorem 2.8 also shows that
  \[
    f^{-1}(p) = - \frac{1}{f(1)} f(p) f^{-1}(1) = -f(p).
  \]
  Thus we can prove part (b) without using part (a).
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.26.}
\addcontentsline{toc}{subsubsection}{Exercise 2.26.}
\emph{Assume $f$ is multiplicative.
Prove that $f$ is completely multiplicative if, and only if,
$f^{-1}(p^a) = 0$ for all primes $p$ and $a \geq 2$.} \\



\emph{Proof.}
  \begin{align*}
    & \:
    \text{$f^{-1}(p^a) = 0$ for all primes $p$ and $a \geq 2$} \\
    \Longleftrightarrow & \:
    \text{$f^{-1}(n) = 0$ for all non-squarefree $n$}
        &(\text{Theorem 2.16}) \\
    \Longleftrightarrow & \:
    \text{$f^{-1}(n) = \underbrace{\mu(n)}_{= 0}f(n)$ for all non-squarefree $n$} \\
    \Longleftrightarrow & \:
    \text{$f^{-1}(n) = \mu(n)f(n)$ for all $n$}
        &(\text{Exercise 2.25(a)}) \\
    \Longleftrightarrow & \:
    \text{$f$ is completely multiplicative}.
        &(\text{Theorem 2.17})
  \end{align*}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.27.}
\addcontentsline{toc}{subsubsection}{Exercise 2.27.}
\begin{enumerate}
\item[(a)]
  \emph{If $f$ is completely multiplicative,
  prove that
  \[
    f \cdot (g * h) = (f \cdot g) * (f \cdot h)
  \]
  for all arithmetical functions $g$ and $h$,
  where $f \cdot g$ denotes the ordinary product,
  $(f \cdot g)(n) = f(n)g(n)$.}

\item[(b)]
  \emph{If $f$ is multiplicative and if the relation in (a) holds for $g = \mu$ and $h = \mu^{-1}$,
  prove that $f$ is completely multiplicative.} \\
\end{enumerate}



\emph{Proof of (a).}
  \begin{align*}
    & \: ((f \cdot g) * (f \cdot h))(n) \\
    =& \: \sum_{d|n} f(d)g(d) f\left(\frac{n}{d}\right)h\left(\frac{n}{d}\right) \\
    =& \: \sum_{d|n} \underbrace{f(d)f\left(\frac{n}{d}\right)}_{= f(n)}
        g(d) h\left(\frac{n}{d}\right)
      & (\text{$f$ is completely multiplicative}) \\
    =& \: f(n) \sum_{d|n} g(d) h\left(\frac{n}{d}\right) \\
    =& \: (f \cdot (g * h))(n).
  \end{align*}
$\Box$ \\



\emph{Proof of (b).}
  \begin{align*}
    & \: f \cdot \underbrace{(\mu * \mu^{-1})}_{= I}
        = (f \cdot \mu) * (f \cdot \underbrace{\mu^{-1}}_{= u}) \\
    \Longleftrightarrow & \:
    I = f \cdot I = (f \cdot \mu) * f
      & (\text{$f$ is multiplicative}) \\
    \Longleftrightarrow & \:
    \text{$f$ is completely multiplicative}.
      & (\text{Theorem 2.17})
  \end{align*}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.28.}
\addcontentsline{toc}{subsubsection}{Exercise 2.28.}
\begin{enumerate}
\item[(a)]
  \emph{If $f$ is completely multiplicative, prove that
  \[
    (f \cdot g)^{-1} = f \cdot g^{-1}
  \]
  for every arithmetical function $g$ with $g(1) \neq 0$.}

\item[(b)]
  \emph{If $f$ is multiplicative and the relation in (a) holds for $g = \mu^{-1}$,
  prove that $f$ is completely multiplicative.} \\
\end{enumerate}



\emph{Proof of (a).}
\begin{enumerate}
\item[(1)]
  Note that $g^{-1}$ is existed since $g(1) \neq 0$.

\item[(2)]
  Exercise 2.27 (a) implies that
  \begin{align*}
    & \: f \cdot (g * g^{-1}) = (f \cdot g) * (f \cdot g^{-1}) \\
    \Longrightarrow & \:
    f \cdot I = (f \cdot g) * (f \cdot g^{-1}) \\
    \Longrightarrow & \:
    I = (f \cdot g) * (f \cdot g^{-1}).
  \end{align*}
  Hence the Dirichlet inverse of $f \cdot g$ is $f \cdot g^{-1}$.

\item[(3)]
  Surely, we can prove it directly as the proof of Exercise 2.27 (a).
\end{enumerate}
$\Box$ \\



\emph{Proof of (b).}
  It is the same as Exercise 2.27 (b).
  \[
    (\overbrace{f \cdot \underbrace{\mu^{-1}}_{= u}}^{=f})^{-1} = f \cdot \mu
    \Longleftrightarrow
    \text{$f$ is completely multiplicative}
  \]
  by Theorem 2.17.
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.30.}
\addcontentsline{toc}{subsubsection}{Exercise 2.30.}
\emph{Let $f$ be multiplicative and let $g$ be any arithmetical function.
Assume that}
\begin{enumerate}
\item[(a)]
  \emph{
  \[
    f(p^{n+1}) = f(p)f(p^n) - g(p)f(p^{n-1})
  \]
  for all primes $p$ and all $n \geq 1$.}
\end{enumerate}
Prove that for each prime $p$ the Bell series for $f$ has the form
\begin{enumerate}
\item[(b)]
  \[
    f_p(x) = \frac{1}{1 - f(p)x + g(p)x^2}.
  \]
\end{enumerate}
\emph{Conversely, prove that (b) implies (a).} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Given any prime $p$.
  Note that
  \begin{align*}
    & \:
    f_p(x)(1 - f(p)x + g(p)x^2) \\
    = & \:
    \sum_{n=0}^{\infty} f(p^n)x^n
        - \sum_{n=0}^{\infty} f(p)f(p^n)x^{n+1}
        + \sum_{n=0}^{\infty} g(p)f(p^n)x^{n+2} \\
    = & \:
    \left\{ 1 + f(p)x + \sum_{n=1}^{\infty} f(p^{n+1})x^{n+1} \right\}
        - \left\{ f(p)x + \sum_{n=1}^{\infty} f(p)f(p^n)x^{n+1} \right\} \\
    & \:
        + \sum_{n=1}^{\infty} g(p)f(p^{n-1})x^{n+1} \\
    = & \:
    1 + \sum_{n=1}^{\infty}\left\{ f(p^{n+1}) - f(p)f(p^n) + g(p)f(p^{n-1}) \right\} x^{n+1}.
  \end{align*}

\item[(2)]
  Hence
  $f_p(x)(1 - f(p)x + g(p)x^2) = 1$
  if and only if $f(p^{n+1}) - f(p)f(p^n) + g(p)f(p^{n-1}) = 0$ for all $n \geq 1$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 2.33.}
\addcontentsline{toc}{subsubsection}{Exercise 2.33.}
\emph{Prove that Liouville's function is given by the formula}
\[
  \lambda(n) = \sum_{d^2|n} \mu\left( \frac{n}{d^2} \right).
\] \\



\emph{Proof.}
  The M\"obius inversion formula (Theorem 2.9) of
  \begin{equation*}
    g(n) := \sum_{d|n} \lambda(d) =
    \begin{cases}
      1 & \text{if $n$ is a square}, \\
      0 & \text{otherwise}
    \end{cases}
  \end{equation*}
  (Theorem 2.19) implies that
  \[
    \lambda(n)
    = \sum_{d|n} g(d) \mu\left( \frac{n}{d} \right)
    = \sum_{d^2|n} \mu\left( \frac{n}{d^2} \right).
  \]
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
\section*{Chapter 3: Average of arithmetical functions \\}
\addcontentsline{toc}{section}{Chapter 3: Average of arithmetical functions}



\subsubsection*{Exercise 3.1.}
\addcontentsline{toc}{subsubsection}{Exercise 3.1.}
\emph{Use Euler's summation formula to deduce the following for $x \geq 2$:}
\begin{enumerate}
\item[(a)]
  \emph{$\sum_{n \leq x} \frac{\log n}{n}
  = \frac{1}{2} (\log x)^2 + A + O\left( \frac{\log x}{x} \right)$,
  where $A$ is a constant.}

\item[(b)]
  \emph{$\sum_{2 \leq n \leq x} \frac{1}{n\log n}
  = \log\log x + B + O\left( \frac{1}{x\log x} \right)$,
  where $B$ is a constant.} \\
\end{enumerate}



\emph{Proof of (a).}
\begin{enumerate}
\item[(1)]
  Similar to the proof of Theorem 3.2.
  We take $f(t) = \frac{\log t}{t}$ in Euler's summation formula to obtain
  \begin{align*}
    \sum_{n \leq x} \frac{\log n}{n}
    = & \: \int_{1}^{x} \frac{\log t}{t} dt
        + \int_{1}^{x}(t-\lfloor t \rfloor)\frac{1-\log t}{t^2} dt \\
      & \: + \frac{\log x}{x}(\lfloor x \rfloor-x) 
          - \underbrace{\frac{\log(1)}{1}(\lfloor 1 \rfloor-1)}_{= 0} \\
    = & \: \frac{1}{2} (\log x)^2
        + \int_{1}^{x}(t-\lfloor t \rfloor)\frac{1-\log t}{t^2} dt + O\left( \frac{\log x}{x} \right) \\
    = & \: \frac{1}{2} (\log x)^2 + \int_{1}^{\infty}(t-\lfloor t \rfloor)\frac{1-\log t}{t^2} dt \\
      & \: - \int_{x}^{\infty}(t-\lfloor t \rfloor)\frac{1-\log t}{t^2} dt + O\left( \frac{\log x}{x} \right).
  \end{align*}

\item[(2)]
  The improper integral $\int_{1}^{\infty}(t-\lfloor t \rfloor)\frac{1-\log t}{t^2} dt$
  exists since it is dominated by
  $\int_{1}^{e} \frac{1-\log t}{t^2} dt + \int_{e}^{\infty} \frac{\log t - 1}{t^2} dt = 2e^{-1}$.

\item[(3)]
  Might assume that $x \geq e$.
  So
  \[
    0
    \leq -\int_{x}^{\infty}(t-\lfloor t \rfloor)\frac{1-\log t}{t^2} dt
    \leq \int_{x}^{\infty}\frac{\log t - 1}{t^2} dt
    = \frac{\log x}{x}.
  \]

\item[(4)]
  Therefore
  \[
    \sum_{n \leq x} \frac{\log n}{n}
    = \frac{1}{2} (\log x)^2 + A + O\left( \frac{\log x}{x} \right)
  \]
  where $A = \int_{1}^{\infty}(t-\lfloor t \rfloor)\frac{1-\log t}{t^2} dt$ is a constant.
\end{enumerate}
$\Box$ \\



\emph{Proof of (b).}
\begin{enumerate}
\item[(1)]
  We take $f(t) = \frac{1}{t\log t}$ in Euler's summation formula to obtain
  \begin{align*}
    \sum_{2 \leq n \leq x} \frac{1}{n\log n}
    = & \: \int_{2}^{x} \frac{1}{t\log t} dt
        + \int_{2}^{x} -(t-\lfloor t \rfloor)\frac{\log t + 1}{t^2 (\log t)^2} dt \\
      & \: + \frac{1}{x \log x}(\lfloor x \rfloor-x)
          - \underbrace{\frac{1}{2 \cdot \log(2)}(\lfloor 2 \rfloor - 2)}_{= 0} \\
    = & \: \log\log x - \log\log2
        - \int_{2}^{x} (t-\lfloor t \rfloor)\frac{\log t + 1}{t^2 (\log t)^2} dt \\
      & \: + O\left( \frac{1}{x \log x} \right) \\
    = & \: \log\log x - \log\log2
        - \int_{2}^{\infty} (t-\lfloor t \rfloor)\frac{\log t + 1}{t^2 (\log t)^2} dt \\
      & \: + \int_{x}^{\infty} (t-\lfloor t \rfloor)\frac{\log t + 1}{t^2 (\log t)^2} dt
        + O\left( \frac{1}{x \log x} \right).
  \end{align*}

\item[(2)]
  The improper integral $\int_{2}^{\infty} (t-\lfloor t \rfloor)\frac{\log t + 1}{t^2 (\log t)^2} dt$
  exists since it is dominated by
  $\int_{2}^{\infty} \frac{\log t + 1}{t^2 (\log t)^2} dt = \frac{1}{2\log 2} < \infty$.

\item[(3)]
  \[
    0
    \leq \int_{x}^{\infty} (t-\lfloor t \rfloor)\frac{\log t + 1}{t^2 (\log t)^2} dt
    \leq \int_{x}^{\infty} \frac{\log t + 1}{t^2 (\log t)^2} dt
    = \frac{1}{x\log x}.
  \]

\item[(4)]
  Therefore
  \[
    \sum_{2 \leq n \leq x} \frac{1}{n\log n}
    = \log\log x + B + O\left( \frac{1}{x\log x} \right)
  \]
  where
  $B = - \log\log2 - \int_{2}^{\infty} (t-\lfloor t \rfloor)\frac{\log t + 1}{t^2 (\log t)^2} dt$
  is a constant.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 3.2.}
\addcontentsline{toc}{subsubsection}{Exercise 3.2.}
\emph{If $x \geq 2$ prove that
\[
  \sum_{n \leq x} \frac{d(n)}{n}
  = \frac{1}{2}(\log x)^2 + 2 C \log x + O(1),
\]
where $C$ is Euler's constant.} \\



\emph{Proof.}
  Similar to the proof of Theorem 3.3, we have
  \[
    \sum_{n \leq x} \frac{d(n)}{n}
    = \sum_{n \leq x} \frac{1}{n} \sum_{d|n} 1
    = \sum_{\substack{q,d \\ qd \leq x}} \frac{1}{qd}
    = \sum_{d \leq x} \frac{1}{d} \sum_{q \leq \frac{x}{d}} \frac{1}{q}.
  \]
  Now we use Theorem 3.2(a) to obtain
  \[
    \sum_{q \leq \frac{x}{d}} \frac{1}{q}
    = \log\frac{x}{d} + C + O\left(\frac{d}{x}\right)
    = \log x - \log d + C + O\left(\frac{d}{x}\right).
  \]
  Using this along with Theorem 3.2(a) and Exercise 3.1 we find
  \begin{align*}
    \sum_{n \leq x} \frac{d(n)}{n}
    =& \: \sum_{d \leq x}
        \frac{1}{d} \left\{ \log x - \log d + C + O\left(\frac{d}{x}\right) \right\} \\
    =& \: (\log x + C) \sum_{d \leq x} \frac{1}{d}
        - \sum_{d \leq x} \frac{\log d}{d} + \sum_{d \leq x} O\left(\frac{1}{x}\right) \\
    =& \: (\log x + C)\left\{ \log x + C + O\left(\frac{1}{x}\right) \right\} \\
      & - \left\{ \frac{1}{2} (\log x)^2 + A + O\left( \frac{\log x}{x} \right) \right\} + O(1) \\
    =& \: (\log x)^2 + 2 C \log x - \frac{1}{2} (\log x)^2 + O(1) \\
    =& \: \frac{1}{2} (\log x)^2 + 2C \log x + O(1).
  \end{align*}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 3.3.}
\addcontentsline{toc}{subsubsection}{Exercise 3.3.}
\emph{If $x \geq 2$ and $\alpha > 0$, $\alpha \neq 1$, prove that
\[
  \sum_{n \leq x} \frac{d(n)}{n^{\alpha}}
  = \frac{x^{1-\alpha} \log x}{1 - \alpha} + \zeta(\alpha)^2 + O(x^{1-\alpha}).
\]}



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Similar to Exercise 3.2.
  \[
    \sum_{n \leq x} \frac{d(n)}{n^{\alpha}}
    = \sum_{n \leq x} \frac{1}{n^{\alpha}} \sum_{d|n} 1
    = \sum_{\substack{q,d \\ qd \leq x}} \frac{1}{q^{\alpha}d^{\alpha}}
    = \sum_{d \leq x} \frac{1}{d^{\alpha}} \sum_{q \leq \frac{x}{d}} \frac{1}{q^{\alpha}}.
  \]
  Now we use Theorem 3.2(b) to obtain
  \[
    \sum_{q \leq \frac{x}{d}} \frac{1}{q^{\alpha}}
    = \frac{1}{d^{1-\alpha}} \cdot \frac{x^{1-\alpha}}{1-\alpha} + \zeta(\alpha)
        + O\left(\frac{d^{\alpha}}{x^{\alpha}}\right).
  \]
  Using this along with Theorem 3.2 we find
  \begin{align*}
    \sum_{n \leq x} \frac{d(n)}{n^{\alpha}}
    =& \: \sum_{d \leq x}
        \frac{1}{d^{\alpha}} \left\{ \frac{1}{d^{1-\alpha}} \cdot \frac{x^{1-\alpha}}{1-\alpha}
            + \zeta(\alpha)
            + O\left(\frac{d^{\alpha}}{x^{\alpha}}\right) \right\} \\
    =& \: \frac{x^{1-\alpha}}{1-\alpha} \sum_{d \leq x} \frac{1}{d}
        + \zeta(\alpha) \sum_{d \leq x} \frac{1}{d^{\alpha}}
        + \sum_{d \leq x} O(x^{-\alpha}) \\
    =& \: \frac{x^{1-\alpha}}{1-\alpha} \left\{ \log x + C + O(x^{-1}) \right\} \\
      & + \zeta(\alpha)
          \left\{ \frac{x^{1-\alpha}}{1-\alpha} + \zeta(\alpha) + O(x^{-\alpha}) \right\}
          + O(x^{1-\alpha}) \\
    =& \: \frac{x^{1-\alpha} \log x}{1 - \alpha} + \zeta(\alpha)^2 + O(x^{1-\alpha}).
  \end{align*}
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 3.5.}
\addcontentsline{toc}{subsubsection}{Exercise 3.5.}
\emph{If $x \geq 1$ prove that:}
\begin{enumerate}
\item[(a)]
  \emph{$\sum_{n \leq x} \varphi(n)
  = \frac{1}{2} \sum_{n \leq x} \mu(n)\left\lfloor \frac{x}{n} \right\rfloor^2 + \frac{1}{2}$.}

\item[(b)]
  \emph{$\sum_{n \leq x} \frac{\varphi(n)}{n}
  = \sum_{n \leq x} \frac{\mu(n)}{n}\left\lfloor \frac{x}{n} \right\rfloor$.}
\end{enumerate}
\emph{These formulas, together with those in Exercise 3.4, show that, for $x \geq 2$,
\[
  \sum_{n \leq x} \varphi(n)
  = \frac{1}{2} \frac{x^2}{\zeta(2)} + O(x \log x),
  \qquad
  \sum_{n \leq x} \frac{\varphi(n)}{n}
  = \frac{x}{\zeta(2)} + O(\log x).
\]} \\

The last two formulas are trivial and we omit the proof. \\

\emph{Proof of (a).}
  Same as the proof of Theorem 3.7.
  \begin{align*}
    \sum_{n \leq x} \varphi(n)
    &= \sum_{n \leq x} \sum_{d|n} \mu(d) \frac{n}{d} \\
    &= \sum_{\substack{q, d \\ qd \leq x}} \mu(d) q \\
    &= \sum_{d \leq x} \mu(d) \sum_{q \leq \frac{x}{d}} q \\
    &= \sum_{d \leq x}
        \mu(d) \frac{1}{2} \left\lfloor\frac{x}{d}\right\rfloor
            \left(1 + \left\lfloor\frac{x}{d}\right\rfloor\right) \\
    &= \frac{1}{2} \sum_{d \leq x} \mu(d)\left\lfloor\frac{x}{d}\right\rfloor^2
        + \frac{1}{2} \sum_{d \leq x} \mu(d)\left\lfloor\frac{x}{d}\right\rfloor \\
    &= \frac{1}{2} \sum_{d \leq x} \mu(d)\left\lfloor\frac{x}{d}\right\rfloor^2 + \frac{1}{2}
      &(\text{Theorem 3.12})
  \end{align*}
$\Box$ \\



\emph{Proof of (b).}
\begin{enumerate}
\item[(1)]
  \begin{align*}
    \sum_{n \leq x} \frac{\varphi(n)}{n}
    &= \sum_{n \leq x} \sum_{d|n} \frac{\mu(d)}{d}
      &(\text{Theorem 2.3}) \\
    &= \sum_{n \leq x} \frac{\mu(n)}{n} \left\lfloor\frac{x}{n}\right\rfloor.
      &(\text{Theorem 3.11})
  \end{align*}
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsection*{Properties of the greatest-integer function \\}
\addcontentsline{toc}{subsection}{Properties of the greatest-integer function}



\emph{Note.}
We might define
\begin{align*}
  \lfloor x \rfloor = &\: \text{the greatest integer less than or equal to $x$}; \\
  \lceil x \rceil = &\: \text{the least integer greater than or equal to $x$}.
\end{align*}
Kenneth E. Iverson introduced this notation, as well as the names ``floor'' and ``ceiling,''
early in the 1960s [Kenneth E. Iverson, \emph{A Programming Language}. Wiley, 1962. page 12]. \\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 3.17.}
\addcontentsline{toc}{subsubsection}{Exercise 3.17}
\emph{Prove that $\lfloor x \rfloor + \lfloor x+\frac{1}{2} \rfloor = \lfloor 2x \rfloor$
and more generally,}
\[
  \sum_{k=0}^{n-1} \left\lfloor x + \frac{k}{n} \right\rfloor
  = \lfloor nx \rfloor.
\]



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  \emph{Show that
  \[
    m = \sum_{k=0}^{n-1} \left\lfloor \frac{m + k}{n} \right\rfloor
  \]
  for $n, m \in \mathbb{Z}$ and $n > 0$.}
  Note that
  \[
    m + k
    = n \left\lfloor \frac{m + k}{n} \right\rfloor
        + \underbrace{\{ (m + k) \text{ mod } n \}}_{:= r(m+k)}
  \]
  for $k = 0, \ldots, n-1$ where $0 \leq r(m+k) < n$ is an integer.
  Note that $\{ r(m+k) : k = 0, \ldots, n-1 \}$ is a rearrangement of $\{ 0, \ldots, n-1 \}$.
  So
  \begin{align*}
    &\: \sum_{k=0}^{n-1} (m+k)
    = \sum_{k=0}^{n-1} n \left\lfloor \frac{m + k}{n} \right\rfloor + \sum_{k=0}^{n-1} r(m+k) \\
    \Longrightarrow &\:
    nm + \sum_{k=0}^{n-1} k
    = n \sum_{k=0}^{n-1} \left\lfloor \frac{m + k}{n} \right\rfloor + \sum_{k=0}^{n-1} k \\
    \Longrightarrow &\:
    m = \sum_{k=0}^{n-1} \left\lfloor \frac{m + k}{n} \right\rfloor.
  \end{align*}

\item[(2)]
  \emph{Show that $\left\lfloor \frac{m + x}{n} \right\rfloor
  = \left\lfloor \frac{m + \lfloor x \rfloor}{n} \right\rfloor$
  if $n, m \in \mathbb{Z}$, $n > 0$ and $x \in \mathbb{R}$.}
  Similar to (1), we write
  \[
    m + \lfloor x \rfloor
    = n \left\lfloor \frac{m + \lfloor x \rfloor}{n} \right\rfloor + r
  \]
  where $0 \leq r < n$ is an integer.
  So
  \[
    m + x
    = n \left\lfloor \frac{m + \lfloor x \rfloor}{n} \right\rfloor
    + (r + x - \lfloor x \rfloor).
  \]
  Note that $0 \leq r + x - \lfloor x \rfloor < n$.
  Hence
  \[
    \left\lfloor \frac{m + x}{n} \right\rfloor
    = \left\lfloor \frac{m + \lfloor x \rfloor}{n} \right\rfloor.
  \]

\item[(3)]
  Now take $m := \lfloor nx \rfloor$ in (1) and apply (2) to get the desired conclusion.
\end{enumerate}
$\Box$ \\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Supplement 3.17.1. (Related exercises)}
\addcontentsline{toc}{subsubsection}{Supplement 3.17.1. (Related exercises)}
Related exercises are quoted from the book:
Ronald L. Graham, Donald E. Knuth and Oren Patashnik,
\emph{Concrete Mathematics: A Foundation for Computer Science, 2nd edition}.

\begin{enumerate}
\item[(1)]
  \emph{Show that $\left\lceil \frac{m + x}{n} \right\rceil
  = \left\lceil \frac{m + \lceil x \rceil}{n} \right\rceil$
  if $n, m \in \mathbb{Z}$, $n > 0$ and $x \in \mathbb{R}$.}

\item[(2)]
  \emph{Show that
  \[
    m = \sum_{k=0}^{n-1} \left\lceil \frac{m - k}{n} \right\rceil
  \]
  for $n, m \in \mathbb{Z}$ and $n > 0$.}

\item[(3)]
  \emph{Prove that $\lceil x \rceil + \lceil x-\frac{1}{2} \rceil = \lceil 2x \rceil$
  and more generally,}
  \[
    \sum_{k=0}^{n-1} \left\lceil x + \frac{k}{n} \right\rceil
    = \lceil nx \rceil.
  \]

\item[(4)]
  \emph{Show that}
  \[
    \sum_{k=0}^{n-1} \left\lfloor \frac{mk + x}{n} \right\rfloor
    = g \left\lfloor \frac{x}{g} \right\rfloor + \frac{1}{2}(mn - m - n + g)
  \]
  if $n, m \in \mathbb{Z}$, $n > 0$, $x \in \mathbb{R}$ and $g = \gcd(m,n)$.

\item[(5)]
  (Reciprocity law) Hence
  \[
    \sum_{k=0}^{n-1} \left\lfloor \frac{mk + x}{n} \right\rfloor
    = \sum_{k=0}^{m-1} \left\lfloor \frac{nk + x}{m} \right\rfloor
  \]
  if $m, n > 0$.

\item[(6)]
  \emph{Prove that, for all real $x$ and $y$ with $y > 0$}
  \[
    \sum_{0 \leq k < y} \left\lfloor x + \frac{k}{y} \right\rfloor
    = \left\lfloor xy + \lfloor x+1 \rfloor(\lceil y \rceil - y) \right\rfloor.
  \] \\
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 3.18. (Replicative function)}
\addcontentsline{toc}{subsubsection}{Exercise 3.18. (Replicative function)}
\emph{Let $f(x) = x - \lfloor x \rfloor - \frac{1}{2}$.
Prove that
\[
  \sum_{k=0}^{n-1} f\left( x+\frac{k}{n} \right) = f(nx)
\]
and deduce that}
\[
  \abs{ \sum_{n=1}^{m} f\left( 2^n x + \frac{1}{2} \right) } \leq 1
  \qquad
  \text{for all $m \geq 1$ and all real $x$}.
\] \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Exercise 3.17 shows that $x \mapsto \lfloor x \rfloor$ is replicative.
  Besides, $x \mapsto x - \frac{1}{2}$ is also replicative. (It is easy to check.)
  Hence $f: x \mapsto x - \lfloor x \rfloor - \frac{1}{2}$ is replicative.

\item[(2)]
  In particular, we have
  \[
    f\left( 2^n x \right) + f\left( 2^n x + \frac{1}{2} \right)
    = f\left( 2^{n+1} x \right).
  \]
  Hence
  \begin{align*}
    \sum_{n=1}^{m} f\left( 2^n x + \frac{1}{2} \right)
    =& \:
    \sum_{n=1}^{m} \left\{f(2^{n+1} x) - f(2^n x) \right\} \\
    =& \:
    f(2^{m+1} x) - f(2x) \\
    =& \:
    \underbrace{(2^{m+1}x - \lfloor 2^{m+1}x \rfloor)}_{:= r_1}
        - \underbrace{(2x - \lfloor 2x \rfloor)}_{:= r_2}.
  \end{align*}
  Since $0 \leq r_1, r_2 < 1$, $-1 < r_1 - r_2 < 1$.
  Therefore
  \[
    \abs{ \sum_{n=1}^{m} f\left( 2^n x + \frac{1}{2} \right) } < 1.
  \]
\end{enumerate}
$\Box$ \\



\emph{Note.}
\begin{enumerate}
\item[(1)]
  The function $f(x)$ is said to be \textbf{replicative} if it satisfies
  \[
    f(nx) = \sum_{k=0}^{n-1} f\left( x+\frac{k}{n} \right).
  \]

\item[(2)]
  The function $x \mapsto f(x - \lfloor x \rfloor)$ is replicative if $f$ is replicative.

\item[(3)]
  It may be interesting to study more general class of functions for which
  \[
    \sum_{k=0}^{n-1} f\left( x+\frac{k}{n} \right) = a_n f(nx) + b_n
  \]
  (where $a_n, b_n$ do not depend on $x$).

\item[(4)]
  \emph{Let $B_n$ be the Bernoulli polynomial.
  Suppose $n$ and $F$ are integers and $n, F > 0$. Show that}
  \[
    B_n(Fx) = F^{n-1} \sum_{a=0}^{F-1} B_n \left(x + \frac{a}{F} \right).
  \]

\item[(5)]
  Note that
  \[
    \frac{1}{\exp(nz) - 1}
    = \frac{1}{n} \sum_{k=0}^{n-1} \frac{1}{\exp(z + \frac{2 k \pi i}{n}) - 1}.
  \]
  Thus
  \[
    \cot(z) = \frac{1}{n} \sum_{k=0}^{n-1} \cot\frac{z + k\pi}{n}.
  \]
  Now $x \mapsto \cot(\pi x)$ is replicative. \\\\
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 3.20.}
\addcontentsline{toc}{subsubsection}{Exercise 3.20.}
\emph{If $n$ is a positive integer prove that
$\lfloor \sqrt{n} + \sqrt{n+1} \rfloor = \lfloor \sqrt{4n+2} \rfloor$.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Note that
  \begin{align*}
    &\: (\sqrt{n} + \sqrt{n+1})^2 = 2n+1 + 2 \sqrt{n(n+1)} \\
    \Longrightarrow &\:
    4n+1 < (\sqrt{n} + \sqrt{n+1})^2 < 4n+2
  \end{align*}
  since
  \[
    n = \sqrt{n^2} < \sqrt{n(n+1)} < \sqrt{(n+1)^2} = n+1.
  \]

\item[(2)]
  Hence to show $\lfloor \sqrt{n} + \sqrt{n+1} \rfloor = \lfloor \sqrt{4n+2} \rfloor$,
  it suffices to show that there is no integers in
  \[
    [\sqrt{n} + \sqrt{n+1}, \sqrt{4n+2}]
    \subseteq (\sqrt{4n+1}, \sqrt{4n+2}]
    \subseteq \mathbb{R}^1.
  \]
  So it suffices to show that there is no squares of $\mathbb{Z}$ in the subset
  \[
    (4n+1, 4n+2] \subseteq \mathbb{R}^1.
  \]
  Note that $4n+2$ cannot be an integer sequare.
  So the last statement holds.
  Therefore $\lfloor \sqrt{n} + \sqrt{n+1} \rfloor = \lfloor \sqrt{4n+2} \rfloor$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
\section*{Chapter 4: Some Elementary Theorems on the Distribution of Prime Numbers \\}
\addcontentsline{toc}{section}{Chapter 4: Some Elementary Theorems on the Distribution of Prime Numbers}



\subsubsection*{Exercise 4.5.}
\addcontentsline{toc}{subsubsection}{Exercise 4.5.}
\emph{Prove that for every $n>1$ there exist $n$ consecutive composite numbers.} \\



\emph{Proof.}
  \[
    \underbrace{(n+8964)!+2}_{\text{is divided by $2$}},
    \underbrace{(n+8964)!+3}_{\text{is divided by $3$}}, \ldots,
    \underbrace{(n+8964)!+(n+1)}_{\text{is divided by $(n+1)$}}
  \]
  are $n$ consecutive composite numbers.
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 4.18.}
\addcontentsline{toc}{subsubsection}{Exercise 4.18.}
\emph{Prove that the following two relations are equivalent:}
\begin{enumerate}
\item[(a)]
  \[
    \pi(x) = \frac{x}{\log x} + O\left( \frac{x}{\log^2 x} \right).
  \]

\item[(b)]
  \[
    \vartheta(x) = x + O\left( \frac{x}{\log x} \right).
  \] \\
\end{enumerate}



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  ((a) $\Longrightarrow$ (b)).
  \begin{align*}
    & \: \vartheta(x) \\
    =& \: \pi(x) \log x - \int_{2}^{x} \frac{\pi(t)}{t} dt
      &(\text{Theorem 4.3}) \\
    =& \: x + O\left( \frac{x}{\log x} \right)
        - \int_{2}^{x} \frac{dt}{\log t}
        + O\left(\int_{2}^{x} \frac{dt}{\log^2 t} \right) \\
    =& \: x + O\left( \frac{x}{\log x} \right)
        + O\left( \frac{x}{\log x} \right)
        + O\left( \frac{x}{\log^2 x} \right)
      &(\text{Exercise 4.19(b)}) \\
    =& \: x + O\left( \frac{x}{\log x} \right).
  \end{align*}

\item[(2)]
  ((b) $\Longrightarrow$ (a)).
  \begin{align*}
    & \: \pi(x) \\
    =& \: \frac{\vartheta(x)}{\log x} + \int_{2}^{x} \frac{\vartheta(t)}{t \log^2 t} dt
      &(\text{Theorem 4.3}) \\
    =& \: \frac{x}{\log x} + O\left( \frac{x}{\log^2 x} \right)
        + \int_{2}^{x} \frac{dt}{\log^2 t}
        + O\left(\int_{2}^{x} \frac{dt}{\log^3 t} \right) \\
    =& \: \frac{x}{\log x} + O\left( \frac{x}{\log^2 x} \right)
        + O\left( \frac{x}{\log^2 x} \right)
        + O\left( \frac{x}{\log^3 x} \right)
      &(\text{Exercise 4.19(b)}) \\
    =& \: \frac{x}{\log x} + O\left( \frac{x}{\log^2 x} \right).
  \end{align*}

\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 4.19. (Logarithmic integral)}
\addcontentsline{toc}{subsubsection}{Exercise 4.19. (Logarithmic integral)}
\emph{If $x \geq 2$, let
\[
  \mathrm{Li}(x) = \int_{2}^{x} \frac{dt}{\log t}
\]
(the \textbf{logarithmic integral} of $x$).}
\begin{enumerate}
\item[(a)]
  \emph{Prove that
  \[
    \mathrm{Li}(x)
    = \frac{x}{\log x} + \int_{2}^{x} \frac{dt}{\log^{2}t} - \frac{2}{\log 2},
  \]
  and that, more generally,
  \[
    \mathrm{Li}(x)
    = \frac{x}{\log x}\left(1 + \sum_{k=1}^{n-1} \frac{k!}{\log^{k}x} \right)
        + n! \int_{2}^{x} \frac{dt}{\log^{n+1} t} + C_n,
  \]
  where $C_n$ is independent of $x$.}

\item[(b)]
  \emph{If $x \geq 2$ prove that}
  \[
    \int_{2}^{x} \frac{dt}{\log^n t} = O\left( \frac{x}{\log^{n} x} \right).
  \] \\
\end{enumerate}



\emph{Proof of (a).}
\begin{enumerate}
\item[(1)]
  Integration by parts gives
  \[
    \mathrm{Li}(x)
    = \left.\frac{t}{\log t}\right|_{t=2}^{t=x} + \int_{2}^{x} \frac{dt}{\log^{2}t}
    = \frac{x}{\log x} + \int_{2}^{x} \frac{dt}{\log^{2}t} - \frac{2}{\log 2}.
  \]

\item[(2)]
  We use induction to prove the general case.
  Suppose
  \[
    \mathrm{Li}(x)
    = \frac{x}{\log x}\left(1 + \sum_{k=1}^{n-1} \frac{k!}{\log^{k}x} \right)
        + n! \int_{2}^{x} \frac{dt}{\log^{n+1} t} + C_n
  \]
  holds.
  Similar to part (1),
  we apply integration by parts to $\int_{2}^{x} \frac{dt}{\log^{n+1}t}$ to get
  \begin{align*}
    \int_{2}^{x} \frac{dt}{\log^{n+1}t}
    &= \left.\frac{t}{\log^{n+1} t}\right|_{t=2}^{t=x}
        + (n+1) \int_{2}^{x} \frac{dt}{\log^{n+2}t} \\
    &= \frac{x}{\log^{n+1} x}
        + (n+1) \int_{2}^{x} \frac{dt}{\log^{n+2}t} - \frac{2}{\log^{n+1} 2}.
  \end{align*}
  Hence
  \begin{align*}
    \mathrm{Li}(x)
    =&\: \frac{x}{\log x}\left(1 + \sum_{k=1}^{n-1} \frac{k!}{\log^{k}x} \right) \\
        &+ n! \left( \frac{x}{\log^{n+1} x} + (n+1)\int_{2}^{x} \frac{dt}{\log^{n+2}t}
            - \frac{2}{\log^{n+1} 2} \right) + C_n \\
    =&\: \frac{x}{\log x}\left(1 + \sum_{k=1}^{n} \frac{k!}{\log^{k}x} \right) 
        + (n+1)!\int_{2}^{x} \frac{dt}{\log^{n+2}t} \\
        & + \underbrace{C_n - \frac{2 \cdot n!}{\log^{n+1} 2}}_{:= C_{n+1}}.
  \end{align*}
  By induction, the general case holds.

\item[(3)]
  Here
  \[
    C_n = - \sum_{k=1}^{n} \frac{2 \cdot (k-1)!}{\log^{k} 2}
  \]
  actually.
\end{enumerate}
$\Box$ \\



\emph{Proof of (b).}
\begin{enumerate}
\item[(1)]
  Similar to the proof of Theorem 4.4.
  \begin{align*}
    \int_{2}^{x} \frac{dt}{\log^n t}
    &= \int_{2}^{\sqrt{x}} \frac{dt}{\log^n t} + \int_{\sqrt{x}}^{x} \frac{dt}{\log^n t} \\
    &\leq \frac{\sqrt{x}}{\log^n 2} + \frac{x - \sqrt{x}}{\log^n \sqrt{x}} \\
    &\leq \frac{1}{\log^n 2} \cdot \sqrt{x} + 2^n \cdot \frac{x}{\log^n x} \\
    &= O\left( \frac{x}{\log^{n} x} \right) + O\left( \frac{x}{\log^{n} x} \right)
      &\left(\text{$\lim_{x \to +\infty} \frac{\sqrt{x}}{\log^{n} x} = +\infty$}\right) \\
    &= O\left( \frac{x}{\log^{n} x} \right)
  \end{align*}
  if $x \geq \sqrt{x}$ or $x \geq 4$.

\item[(2)]
  We can apply L'Hospital's rule to give another proof.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
\section*{Chapter 5: Congruences \\}
\addcontentsline{toc}{section}{Chapter 5: Congruences}



\subsubsection*{Supplement. (Chinese remainder theorem)}
\addcontentsline{toc}{subsubsection}{Supplement. (Chinese remainder theorem)}
(Exercise I.3.5 in the textbook: \emph{J\"orgen Neukirch, Algebraic Number Theory}.)
\emph{The quotient ring $\mathcal{O}/\mathfrak{a}$ of a Dedekind domain by
an ideal $\mathfrak{a} \neq 0$ is a principal ideal domain.
(Hint: For $\mathfrak{a} = \mathfrak{p}^n$ the only proper ideals of $\mathcal{O}/\mathfrak{a}$
are given by $\mathfrak{p}/\mathfrak{p}^n, \ldots, \mathfrak{p}^{n-1}/\mathfrak{p}^n$.
Choose $\pi \in \mathfrak{p} \smallsetminus \mathfrak{p}^2$
and show that $\mathfrak{p}^{\nu} = \mathcal{O}\pi^{\nu} + \mathfrak{p}^n$.)} \\

\emph{Proof.}
\begin{enumerate}
\item[(1)]
  By the Chinese remainder theorem,
  it suffices to show the case $\mathfrak{a} = \mathfrak{p}^n$ where $\mathfrak{p}$ is prime.

\item[(2)]
  There is a natural correspondence between
  \[
    \{ \text{ideals of $\mathcal{O}/\mathfrak{p}^n$} \}
    \longleftrightarrow
    \{ \text{ideals of $\mathcal{O}$ containing $\mathfrak{p}^n$} \}.
  \]
  Hence the proper ideals of $\mathcal{O}/\mathfrak{p}^n$
  are given by $\mathfrak{p}/\mathfrak{p}^n, \ldots, \mathfrak{p}^{n-1}/\mathfrak{p}^n$.

\item[(3)]
  Similar to Exercise I.3.4,
  choose $\pi \in \mathfrak{p} \smallsetminus \mathfrak{p}^2$
  and thus $\mathfrak{p}^{\nu} = \mathcal{O}\pi^{\nu} + \mathfrak{p}^n$
  ($\nu = 1, \ldots, n-1$)
  since they have the same prime factorization.
  Hence
  $\mathfrak{p}^{\nu}/\mathfrak{p}^n = (\pi^{\nu} + \mathfrak{p}^n)$ is principal.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
\section*{Chapter 6: Finite Abelian Groups and Their Characters \\}
\addcontentsline{toc}{section}{Chapter 6: Finite Abelian Groups and Their Characters}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Supplement. (Serre, A Course in Arithmetic)}
\addcontentsline{toc}{subsubsection}{Supplement. (Serre, A Course in Arithmetic)}



\begin{enumerate}
\item[(1)]
  (Proposition VI.1)
  \emph{Let $H$ be a subgroup of a finite abelian group $G$.
  Every character of $H$ extends to a character of $G$.}

\item[(2)]
  (Proposition VI.2)
  \emph{The group $\widehat{G}$ is a finite abelian group of the same order of $G$.}

\item[(3)]
  Worth the time and effort to read this book.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Supplement. (Serre, Linear Representations of Finite Groups)}
\addcontentsline{toc}{subsubsection}{Supplement. (Serre, Linear Representations of Finite Groups)}



\begin{enumerate}
\item[(1)]
  (Proposition 2.5)
  The irreducible characters of a finite abelian $G$ are denoted
  $\chi_1, \ldots, \chi_h$;
  their degrees are written $n_1, \ldots, n_h$, we have $n_i = \chi_i(1)$.
  \emph{The degrees $n_i$ satisfy the relation $\sum_{i=1}^{i=h} n_i^2 = g$.}

\item[(2)]
  (Exercise 2.3.1)
  \emph{Show directly, using Schur's lemma,
  that each irreducible representation of an abelian group,
  finite of not, has degree $1$.}
  \emph{Proof.}
  \begin{enumerate}
  \item[(a)]
    (Schur's lemma)
    Let $\rho^1: G \to \mathsf{GL}(V_1)$ and $\rho^2: G \to \mathsf{GL}(V_2)$ be
    two irreducible representations of $G$,
    and let $f$ be a linear mapping of $V_1$ into $V_2$ such that
    $\rho^2_s \circ f = f \circ \rho^1_s$ for all $s \in G$. Then:
    \begin{enumerate}
    \item[(i)]
      If $\rho^1$ and $\rho^2$ are not isomorphic, we have $f = 0$.

    \item[(ii)]
      If $V_1 = V_2$ and $\rho^1 = \rho^2$, $f$ is a homothety (i.e., a scalar multiple of the identity).
    \end{enumerate}

  \item[(b)]
    Let $\rho: G \to \mathsf{GL}(V)$ be an irreducible representations of $G$.
    Since $G$ is abelian,
    \[
      \rho_s \circ \rho_t = \rho_t \circ \rho_s.
    \]
    Schur's lemma implies that $\rho_s$ is a homothety for any $s \in G$.
    Since $\rho$ is irreducible, $\dim V$ cannot be strictly larger than $1$.
  \end{enumerate}
  $\Box$

\item[(3)]
  (Proposition 2.7)
  \emph{The number of irreducible representations of $G$ (up to isomorphism)
  is equal to the number of classes of $G$.}

\item[(4)]
  (1)(3) or (2)(3) implies Theorem 6.8.
  Again the book is good to read.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 6.1.}
\addcontentsline{toc}{subsubsection}{Exercise 6.1.}
\emph{Let $G$ be a set of $n$th roots of a nonzero complex number.
If $G$ is a group under multiplication,
prove that $G$ is the group of $n$th roots of unity.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Write
  \[
    G = \left\{ z \in \mathbb{C} : z^n = w \right\}
  \]
  where $w \in \mathbb{C}^{\times}$.
  It suffices to show that $w = 1$.

\item[(2)]
  Since the multiplication is the binary operation on $G$,
  $z_1 \cdot z_2 \in G$ whenever $z_1, z_2 \in G$.
  Hence $w = (z_1 \cdot z_2)^n = (z_1)^n \cdot (z_2)^n = w \cdot w= w^2$ or $w = 1$.
  Note that $G$ is nonempty and thus there exists an identity element of $G$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 6.2.}
\addcontentsline{toc}{subsubsection}{Exercise 6.2.}
\emph{Let $G$ be a finite group of order $n$ with identity element $e$.
If $a_1, \ldots, a_n$ are $n$ elements of $G$, not necessarily distinct,
prove that there are integers $p$ and $q$ with
$1 \leq p \leq q \leq n$ such that $a_p a_{p+1} \cdots a_q = e$.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  Consider the set
  \[
    S
    = \{ s_k := a_1 \cdots a_k : 1 \leq k \leq n \}.
  \]

\item[(2)]
  There is nothing to do when $e \in S$ ($p = 1$).

\item[(3)]
  Suppose $e \not\in S$.
  The pigeonhole principle implies that
  there are exists two distinct elements $s_p, s_q \in S$ such that $s_p = s_q$.
  Might assume $p < q$.
  Hence
  \begin{align*}
    s_p = s_q
    \Longleftrightarrow &\:
    a_1 \cdots a_p = a_1 \cdots a_p a_{p+1} \cdots a_q \\
    \Longleftrightarrow &\:
    e = a_{p+1} \cdots a_q = s_p^{-1} s_q
  \end{align*}
  for some $1 \leq p < q \leq n$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Exercise 6.3.}
\addcontentsline{toc}{subsubsection}{Exercise 6.3.}
\emph{Let $G$ be the set of all $2 \times 2$ matrices
$\begin{pmatrix}
  a & b \\
  c & d
\end{pmatrix}$, where $a$, $b$, $c$, $d$ are integers with $ad - bc = 1$.
Prove that $G$ is a group under matrix multiplcation.
This group is sometimes called the \textbf{modular group}.} \\



\emph{Proof.}
\begin{enumerate}
\item[(1)]
  (Binary operation)
  Note that $\mathbb{Z}$ is a ring and
  $\det(st) = \det(s)\det(t) = 1 \cdot 1 = 1$ whenever $s, t \in G$.

\item[(2)]
  (Associativity)
  It is followed from the associativity of $\mathsf{M}_2(\mathbb{C}) \supseteq G$.

\item[(3)]
  (Identity element)
  $\begin{pmatrix}
    1 & 0 \\
    0 & 1
  \end{pmatrix}$
  is the identity element of $G$.

\item[(4)]
  (Inverse element)
  The inverse of
  $\begin{pmatrix}
    a & b \\
    c & d
  \end{pmatrix} \in G$
  is
  $\begin{pmatrix}
    d & -b \\
    -c & a
  \end{pmatrix} \in G$.
\end{enumerate}
$\Box$ \\\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newpage
\section*{Chapter 7: Dirichlet's Theorem on Primes in Arithmetic Progressions \\}
\addcontentsline{toc}{section}{Chapter 7: Dirichlet's Theorem on Primes in Arithmetic Progressions}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsubsection*{Supplement.}
\addcontentsline{toc}{subsubsection}{Supplement.}

Let $k > 0$ and $(h,k) = 1$.
Let $P$ be the set of primes numbers.
Let $P_h$ be the set of primes numbers such that $p \equiv h \pmod k$.
\\


\emph{Theorem 7.3.}
\[
  \sum_{\substack{p \leq x \\ p \in P_h}} \frac{\log p}{p} = \frac{1}{\varphi(k)} \log x + O(1)
\]
for all $x > 1$. \\

We deal with the series $\sum p^{-1} \log p$ rather than $\sum p^{-1}$ to simplify the proof.
Compare to the book \emph{Serre, A Course in Arithmetic} for a classical proof of Dirichlet's Theorem:
\[
  \sum_{p \in P_h} \frac{1}{p^s} \sim \frac{1}{\varphi(k)} \log \frac{1}{s-1}.
\]
for $s \to 1$. \\



\emph{Outline of the proof.}
\begin{enumerate}
\item[(1)]
  Theorem 4.10 says that
  \[
    \sum_{p \leq x} \frac{\log p}{p}
    = \log x + O(1).
  \]
  Compare to Corollary 2 to Proposition VI.10 in \emph{Serre, A Course in Arithmetic}:
  When $s \to 1$, one has
  \[
    \sum_{p} p^{-s} \sim \log \frac{1}{s-1}.
  \]

\item[(2)]
  By the orthogonality relation for Dirichlet characters,
  \begin{align*}
    \varphi(k) \sum_{\substack{p \leq x \\ p \in P_h}} \frac{\log p}{p}
    &= \overline{\chi_1}(h) \sum_{p \leq x} \frac{\chi_1(p) \log p}{p} 
        + \sum_{r=2}^{\varphi(k)} \overline{\chi_r}(h)\sum_{p \leq x} \frac{\chi_r(p) \log p}{p} \\
    &= \sum_{\substack{p \leq x \\ p \in P_k}} \frac{\log p}{p}
        + \sum_{r=2}^{\varphi(k)} \overline{\chi_r}(h)\sum_{p \leq x} \frac{\chi_r(p) \log p}{p}.
  \end{align*}
  Hence it suffices to consider $\sum_{\substack{p \leq x \\ p \in P_k}} \frac{\log p}{p}$
  and $\sum_{p \leq x} \frac{\chi_r(p) \log p}{p}$.
  Compare to Lemma VI.9 in \emph{Serre, A Course in Arithmetic}:
  Let
  \[
    f_{\chi}(s) = \sum_{p \nmid k} \frac{\chi(p)}{p^s}.
  \]
  Then
  \[
    \sum_{p \in P_h} \frac{1}{p^s}
    = \frac{1}{\varphi(k)} \sum_{\chi} \chi(h)^{-1} f_{\chi}(s).
  \]
  Again it suffices to consider two cases $\chi = 1$ and $\chi \neq 1$.

\item[(3)]
  Show that
  \[
    \sum_{\substack{p \leq x \\ p \in P_k}} \frac{\log p}{p}
    = \sum_{p \leq x} \frac{\log p}{p} + O(1).
  \]
  Compare to Lemma VI.7 in \emph{Serre, A Course in Arithmetic}:
  If $\chi = 1$, then for $s \to 1$
  \[
    f_{\chi}(s) \sim \log \frac{1}{s - 1}.
  \]

\item[(4)]
  Show that
  \[
    \sum_{p \leq x} \frac{\chi(p) \log p}{p} = O(1)
  \]
  for each $\chi \neq \chi_1$.
  Compare to Lemma VI.8 in \emph{Serre, A Course in Arithmetic}:
  If $\chi \neq 1$, $f_{\chi}(s)$ remains bounded when $s \to 1$.

\item[(5)]
  To prove part (4), consider the sum
  \[
    \sum_{n \leq x} \frac{\chi(n) \Lambda(n)}{n}
  \]
  and we write the sum as
  \[
    \sum_{n \leq x} \frac{\chi(n) \Lambda(n)}{n}
    = \sum_{p \leq x} \frac{\chi(p) \log p}{p}
        + \underbrace{\sum_{p \leq x} \sum_{1 \leq a \leq \frac{\log x}{\log p}}
            \frac{\chi(p^a) \log p}{p^a}}_{= O(1)}.
  \]
  Hence it suffices to show that $\sum_{n \leq x} \frac{\chi(n) \Lambda(n)}{n} = O(1)$.
  The proof is elementary and worth reading too.
  Compare to the proof of Lemma VI.8 in \emph{Serre, A Course in Arithmetic}:
  we consider the $L$ function
  \[
    L(s,\chi)
    = \sum \frac{\chi(n)}{n^s}
    = \prod \frac{1}{1 - \frac{\chi(p)}{p^s}}
  \]
  for $\mathrm{Re}(s) > 1$.
  Write
  \[
    \underbrace{\log L(s,\chi)}_{= O(1)}
    = f_{\chi}(s) + \underbrace{\sum_{\substack{p \\ m \geq 2}} \frac{\chi(p)^m}{mp^{ms}}}_{= O(1)}
  \]
  to get $f_{\chi}(s) = O(1)$.
  To prove $\log L(s,\chi) = O(1)$, we need some knowledge about complex analysis.
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\end{document}